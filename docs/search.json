[{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"vignette demonstrates advanced features Athlytics research-grade sports physiology analysis: Data Quality Control: Detecting flagging HR/power spikes, GPS drift ACWR EWMA: Exponentially weighted moving average confidence bands Cohort Reference Analysis: Multi-athlete percentile comparisons features make Athlytics suitable individual training analysis multi-athlete research studies.","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"data-quality-control","dir":"Articles","previous_headings":"","what":"1. Data Quality Control","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"calculating physiological metrics, ‚Äôs crucial ensure data quality. flag_quality() function detects common issues activity stream data.","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"basic-quality-checking","dir":"Articles","previous_headings":"1. Data Quality Control","what":"Basic Quality Checking","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Output interpretation: - quality_score: Overall quality (0-1), 1 = perfect - flagged_pct: Percentage data points issues - steady_state_pct: Percentage suitable EF/decoupling calculations","code":"library(Athlytics) library(dplyr)  # Load a single activity with stream data activities <- load_local_activities(\"export_12345678.zip\")  # Parse stream data from a FIT/TCX file # (Assuming you have stream data - this is a conceptual example) stream_data <- parse_activity_file(\"path/to/activity.fit\")  # Flag quality issues flagged_data <- flag_quality(   stream_data,   sport = \"Run\",   hr_range = c(30, 220),           # Valid HR range   pw_range = c(0, 1500),            # Valid power range   max_run_speed = 7.0,              # Max speed (m/s) ‚âà 2:23/km pace   max_hr_jump = 10,                 # Max HR change per second   max_pw_jump = 300,                # Max power change per second   min_steady_minutes = 20,          # Min duration for steady-state   steady_cv_threshold = 8           # CV% threshold for steady-state )  # View quality summary summary_stats <- quality_summary(flagged_data) print(summary_stats)"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"why-quality-control-matters","dir":"Articles","previous_headings":"1. Data Quality Control","what":"Why Quality Control Matters","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Without quality control: - HR spikes sensor errors inflate HRSS calculations - GPS drift creates artificially high speeds, affecting pace metrics - Non-steady-state segments contaminate Efficiency Factor (EF) calculations quality control: - clean data contributes metrics - Steady-state detection ensures valid EF/decoupling calculations - Researchers can report data quality publications","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"acwr-with-ewma-method","dir":"Articles","previous_headings":"","what":"2. ACWR with EWMA Method","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Traditional ACWR uses rolling averages (RA). EWMA method offers: - Greater sensitivity recent training changes - Customizable decay rates via half-life parameters - Confidence bands via bootstrap quantify uncertainty","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"comparing-ra-vs-ewma","dir":"Articles","previous_headings":"2. ACWR with EWMA Method","what":"Comparing RA vs EWMA","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Key differences: - RA: Equal weight days window; sudden jumps old workouts exit window - EWMA: Exponential decay; smooth transitions; responsive recent changes","code":"# Load activities activities <- load_local_activities(\"export_12345678.zip\")  # Calculate ACWR using Rolling Average (traditional) acwr_ra <- calculate_acwr_ewma(   activities,   activity_type = \"Run\",   method = \"ra\",   acute_period = 7,   chronic_period = 28,   load_metric = \"duration_mins\" )  # Calculate ACWR using EWMA acwr_ewma <- calculate_acwr_ewma(   activities,   activity_type = \"Run\",   method = \"ewma\",   half_life_acute = 3.5,    # Acute load half-life (days)   half_life_chronic = 14,   # Chronic load half-life (days)   load_metric = \"duration_mins\" )  # Compare the two methods library(ggplot2) ggplot() +   geom_line(data = acwr_ra, aes(x = date, y = acwr_smooth),              color = \"blue\", size = 1, linetype = \"solid\") +   geom_line(data = acwr_ewma, aes(x = date, y = acwr_smooth),              color = \"red\", size = 1, linetype = \"dashed\") +   labs(title = \"ACWR: Rolling Average vs EWMA\",        subtitle = \"Blue = RA (7:28d) | Red = EWMA (3.5:14d half-life)\",        x = \"Date\", y = \"ACWR\") +   theme_minimal()"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"adding-confidence-bands","dir":"Articles","previous_headings":"2. ACWR with EWMA Method","what":"Adding Confidence Bands","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Confidence bands quantify uncertainty ACWR estimates, essential research reporting. Interpretation: - Gray band: 95% confidence interval moving-block bootstrap - Wider bands = uncertainty (e.g., high load variability) - Narrower bands = stable estimates","code":"# Calculate EWMA with 95% confidence bands acwr_ewma_ci <- calculate_acwr_ewma(   activities,   activity_type = \"Run\",   method = \"ewma\",   half_life_acute = 3.5,   half_life_chronic = 14,   load_metric = \"duration_mins\",   ci = TRUE,                # Enable confidence intervals   B = 200,                  # Bootstrap iterations   block_len = 7,            # Block length (days) for bootstrap   conf_level = 0.95         # 95% CI )  # Plot with confidence bands ggplot(acwr_ewma_ci, aes(x = date)) +   geom_ribbon(aes(ymin = acwr_lower, ymax = acwr_upper),                fill = \"gray70\", alpha = 0.5) +   geom_line(aes(y = acwr_smooth), color = \"black\", size = 1) +   geom_hline(yintercept = c(0.8, 1.3), linetype = \"dotted\", color = \"green\") +   geom_hline(yintercept = 1.5, linetype = \"dotted\", color = \"red\") +   labs(title = \"ACWR with 95% Confidence Bands\",        subtitle = \"Gray band = bootstrap confidence interval\",        x = \"Date\", y = \"ACWR\") +   theme_minimal()"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"technical-note-bootstrap-method","dir":"Articles","previous_headings":"2. ACWR with EWMA Method > Adding Confidence Bands","what":"Technical Note: Bootstrap Method","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"confidence bands use moving-block bootstrap: 1. Daily load sequence resampled weekly blocks (preserves within-week correlation) 2. ACWR recalculated bootstrap sample (B = 200 iterations) 3. 2.5th 97.5th percentiles form 95% confidence band approach computationally efficient doesn‚Äôt require distributional assumptions.","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"cohort-reference-analysis","dir":"Articles","previous_headings":"","what":"3. Cohort Reference Analysis","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"analyzing multiple athletes (teams, research cohorts), ‚Äôs valuable compare individuals group norms.","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"multi-athlete-setup","dir":"Articles","previous_headings":"3. Cohort Reference Analysis","what":"Multi-Athlete Setup","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"","code":"# Load data for multiple athletes athlete1 <- load_local_activities(\"athlete1_export.zip\") %>%   mutate(athlete_id = \"athlete1\", sex = \"M\", age_band = \"25-35\")  athlete2 <- load_local_activities(\"athlete2_export.zip\") %>%   mutate(athlete_id = \"athlete2\", sex = \"F\", age_band = \"25-35\")  athlete3 <- load_local_activities(\"athlete3_export.zip\") %>%   mutate(athlete_id = \"athlete3\", sex = \"M\", age_band = \"35-45\")  # Combine cohort_data <- bind_rows(athlete1, athlete2, athlete3)  # Calculate ACWR for each athlete cohort_acwr <- cohort_data %>%   group_by(athlete_id) %>%   group_modify(~ calculate_acwr_ewma(.x, method = \"ewma\")) %>%   ungroup() %>%   left_join(     cohort_data %>% select(athlete_id, sex, age_band) %>% distinct(),     by = \"athlete_id\"   )"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"calculate-reference-percentiles","dir":"Articles","previous_headings":"3. Cohort Reference Analysis","what":"Calculate Reference Percentiles","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Output:","code":"# Calculate cohort reference by sport and sex reference <- cohort_reference(   cohort_acwr,   metric = \"acwr_smooth\",   by = c(\"sport\", \"sex\"),           # Group by sport and sex   probs = c(0.05, 0.25, 0.5, 0.75, 0.95),  # Percentiles   min_athletes = 3                  # Minimum athletes per group )  # View reference structure head(reference) # A tibble: 6 √ó 5   date       sport sex   percentile value n_athletes   <date>     <chr> <chr> <chr>      <dbl>      <int> 1 2024-01-01 Run   M     p05        0.65          5 2 2024-01-01 Run   M     p25        0.82          5 3 2024-01-01 Run   M     p50        0.98          5 4 2024-01-01 Run   M     p75        1.15          5 5 2024-01-01 Run   M     p95        1.38          5"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"plot-individual-vs-cohort","dir":"Articles","previous_headings":"3. Cohort Reference Analysis","what":"Plot Individual vs Cohort","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Interpretation: - Black line: Individual athlete‚Äôs ACWR trend - Dark shaded area (P25-P75): ‚ÄúNormal‚Äù range (50% cohort) - Light shaded area (P5-P95): Extended range (90% cohort) - Dashed line (P50): Median (cohort center) Use cases: - Outlier detection: Athletes consistently P95 P5 - Load matching: Ensure similar load profiles comparing injury rates - Benchmarking: Compare individual‚Äôs trajectory team norms","code":"# Extract one athlete's data individual <- cohort_acwr %>%    filter(athlete_id == \"athlete1\")  # Plot with cohort reference p <- plot_with_reference(   individual = individual,   reference = reference %>% filter(sex == \"M\"),  # Match athlete's group   metric = \"acwr_smooth\",   bands = c(\"p25_p75\", \"p05_p95\", \"p50\") )  print(p)"},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"integrated-workflow-example","dir":"Articles","previous_headings":"","what":"4. Integrated Workflow Example","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"‚Äôs complete research workflow combining features:","code":"library(Athlytics) library(dplyr) library(ggplot2)  # --- Step 1: Load multi-athlete cohort --- cohort_files <- c(\"athlete1_export.zip\", \"athlete2_export.zip\", \"athlete3_export.zip\") cohort_data <- lapply(cohort_files, function(file) {   load_local_activities(file) %>%     mutate(athlete_id = tools::file_path_sans_ext(basename(file))) }) %>% bind_rows()  # --- Step 2: Quality control (conceptual - for stream data) --- # If you have stream data, flag quality before calculating metrics # cohort_data <- cohort_data %>% #   group_by(athlete_id) %>% #   mutate(quality_score = calculate_quality_score(streams))  # --- Step 3: Calculate ACWR with EWMA + CI --- cohort_acwr <- cohort_data %>%   group_by(athlete_id) %>%   group_modify(~ calculate_acwr_ewma(     .x,     method = \"ewma\",     half_life_acute = 3.5,     half_life_chronic = 14,     load_metric = \"duration_mins\",     ci = TRUE,     B = 100  # Reduced for speed in example   )) %>%   ungroup()  # --- Step 4: Calculate cohort reference --- reference <- cohort_reference(   cohort_acwr,   metric = \"acwr_smooth\",   by = c(\"sport\"),   probs = c(0.05, 0.25, 0.5, 0.75, 0.95),   min_athletes = 3 )  # --- Step 5: Visualize individual with confidence + cohort --- individual <- cohort_acwr %>% filter(athlete_id == \"athlete1\")  p <- plot_with_reference(individual, reference, metric = \"acwr_smooth\") +   # Add individual's confidence bands   geom_ribbon(data = individual,                aes(x = date, ymin = acwr_lower, ymax = acwr_upper),               fill = \"blue\", alpha = 0.2)  print(p)  # --- Step 6: Export for statistical analysis --- write.csv(cohort_acwr, \"cohort_acwr_with_ci.csv\", row.names = FALSE) write.csv(reference, \"cohort_reference.csv\", row.names = FALSE)"},{"path":[]},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"acwr-method-selection","dir":"Articles","previous_headings":"5. Methodological Notes for JOSS/Research","what":"ACWR Method Selection","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Default parameters: - RA: 7-day acute, 28-day chronic (common literature) - EWMA: 3.5-day acute half-life, 14-day chronic half-life (equivalent decay)","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"confidence-bands-limitations","dir":"Articles","previous_headings":"5. Methodological Notes for JOSS/Research","what":"Confidence Bands Limitations","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"causal inference: Bands reflect sampling variability, prediction injury Assumes stationarity: training pattern changes fundamentally, past data may representative Block length matters: Default 7-day blocks preserve weekly structure; adjust training cycle differs","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"cohort-reference-interpretation","dir":"Articles","previous_headings":"5. Methodological Notes for JOSS/Research","what":"Cohort Reference Interpretation","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"‚ö†Ô∏è Critical distinction: Percentile bands descriptive population variability, confidence intervals individual‚Äôs ‚Äútrue‚Äù value. Correct interpretation: - ‚ÄúAthlete 75th percentile cohort‚Äù ‚úÖ - ‚ÄúAthlete‚Äôs ACWR significantly higher cohort‚Äù ‚ùå (requires statistical test) Minimum sample sizes: - P25-P75: n ‚â• 5 athletes - P5-P95: n ‚â• 20 athletes (stable extremes)","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"faq-for-advanced-features","dir":"Articles","previous_headings":"","what":"6. FAQ for Advanced Features","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Q: choose EWMA half-life? : Start defaults (3.5:14d ‚âà 7:28d RA). responsive monitoring, reduce proportionally (e.g., 2.5:10d). smoother trends, increase (e.g., 5:20d). Q: Bootstrap slow. Can reduce B? : Yes. B = 50‚Äì100 often sufficient visual inspection. publication, use B = 200‚Äì500. Q: cohort < 5 athletes? : Set min_athletes = 3, report limitation. Percentiles n < 5 unstable. Q: Can use methods injury prediction? : . descriptive monitoring tools. Injury prediction requires proper case-control studies, controlling confounders, validation. See Carey et al.¬†(2018) discussion ACWR limitations. Q: cite Athlytics? : (Wait JOSS publication; include version number DOI)","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"Moving-block bootstrap: K√ºnsch, H. R. (1989). jackknife bootstrap general stationary observations. Annals Statistics, 17(3), 1217-1241. ACWR critical review: Carey, D. L., et al.¬†(2018). Training loads injury risk Australian football‚Äîdiffering acute: chronic workload ratios influence match injury risk. BJSM, 52(16), 1088-1094. EWMA sports monitoring: Williams, S., et al.¬†(2017). Better way determine acute:chronic workload ratio? BJSM, 51(3), 209-210.","code":""},{"path":"https://hezhiang.com/Athlytics/articles/advanced-features.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Advanced Features: EWMA, Quality Control, and Cohort Analysis","text":"","code":"sessionInfo() #> R version 4.5.0 (2025-04-11 ucrt) #> Platform: x86_64-w64-mingw32/x64 #> Running under: Windows 10 x64 (build 19045) #>  #> Matrix products: default #>   LAPACK version 3.12.1 #>  #> locale: #> [1] LC_COLLATE=Chinese (Simplified)_China.utf8  #> [2] LC_CTYPE=Chinese (Simplified)_China.utf8    #> [3] LC_MONETARY=Chinese (Simplified)_China.utf8 #> [4] LC_NUMERIC=C                                #> [5] LC_TIME=Chinese (Simplified)_China.utf8     #>  #> time zone: Asia/Shanghai #> tzcode source: internal #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> loaded via a namespace (and not attached): #>  [1] digest_0.6.37     desc_1.4.3        R6_2.6.1          fastmap_1.2.0     #>  [5] xfun_0.53         cachem_1.1.0      knitr_1.50        htmltools_0.5.8.1 #>  [9] rmarkdown_2.30    lifecycle_1.0.4   cli_3.6.5         sass_0.4.10       #> [13] pkgdown_2.1.3     textshaping_1.0.3 jquerylib_0.1.4   systemfonts_1.2.3 #> [17] compiler_4.5.0    tools_4.5.0       ragg_1.5.0        evaluate_1.0.5    #> [21] bslib_0.9.0       yaml_2.3.10       jsonlite_2.0.0    rlang_1.1.6       #> [25] fs_1.6.6          htmlwidgets_1.6.4"},{"path":"https://hezhiang.com/Athlytics/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ang. Author, maintainer.","code":""},{"path":"https://hezhiang.com/Athlytics/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ang (2025). Athlytics: Academic R Package Sports Physiology Analysis Local 'Strava' Data. R package version 1.0.0, https://hezhiang.com/Athlytics/.","code":"@Manual{,   title = {Athlytics: Academic R Package for Sports Physiology Analysis from Local 'Strava' Data},   author = {{Ang}},   year = {2025},   note = {R package version 1.0.0},   url = {https://hezhiang.com/Athlytics/}, }"},{"path":[]},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others‚Äô private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official email address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement ang@hezhiang.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://hezhiang.com/Athlytics/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla‚Äôs code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://hezhiang.com/Athlytics/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to athlytics","title":"Contributing to athlytics","text":"Thank considering contributing athlytics! welcome contributions community.","code":""},{"path":"https://hezhiang.com/Athlytics/CONTRIBUTING.html","id":"how-to-contribute","dir":"","previous_headings":"","what":"How to Contribute","title":"Contributing to athlytics","text":"follow ‚ÄúGitHub Flow‚Äù like process contributions made Pull Requests. make contribution, please follow steps: Check Existing Issues: starting work new feature bug fix, please check Issues tab see someone else already reported issue working . Open Issue (Necessary): Bug Reports: find bug, please open new issue. Describe bug —Ç–µ–ø–ª–æ, including steps reproduce , expected happen, actually happened. Include relevant version information athlytics R. Feature Requests: idea new feature, please open issue discuss . allows us discuss potential feature ensure aligns project‚Äôs goals significant development effort made. Contributions: want contribute ways (e.g., documentation improvements, refactoring), ‚Äôs still good idea open issue first discuss proposed changes. Fork Repository: Fork athlytics repository GitHub account. Create Branch: Create new branch forked repository contribution. Choose descriptive branch name (e.g., fix-plot-bug, add-new-metric). Make Changes: Make changes branch. Ensure code follows existing style add relevant tests new functionality bug fixes. add new functions, please include Roxygen documentation. Run devtools::check() locally ensure changes pass checks. Commit Changes: Commit changes clear descriptive commit message. Push Fork: Push changes forked repository. Open Pull Request (PR): Go original athlytics repository open Pull Request branch main branch (relevant development branch specified). PR description, clearly describe changes made link issue addressing (e.g., ‚ÄúCloses #123‚Äù ‚ÄúFixes #456‚Äù). Ensure PR passes automated checks (e.g., GitHub Actions). Discuss Iterate: prepared discuss changes make modifications based feedback maintainers.","code":""},{"path":"https://hezhiang.com/Athlytics/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to athlytics","text":"participating project, expected uphold Code Conduct.","code":""},{"path":"https://hezhiang.com/Athlytics/CONTRIBUTING.html","id":"questions","dir":"","previous_headings":"","what":"Questions?","title":"Contributing to athlytics","text":"questions, feel free open issue reach maintainers.","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"athlytics","dir":"","previous_headings":"","what":"Academic R Package for Sports Physiology Analysis from Local Strava Data","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Comprehensive R Framework Exercise Physiology Analytics  üìñ Documentation ‚Ä¢ üöÄ Quick Start ‚Ä¢ üìä Examples ‚Ä¢ üí¨ Issues","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"chart_with_upwards_trend-package-adoption--growth","dir":"","previous_headings":"","what":"üìà Package Adoption & Growth","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Trusted researchers, coaches, athletes worldwide","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"dart-overview","dir":"","previous_headings":"","what":"üéØ Overview","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Athlytics provides comprehensive computational framework longitudinal analysis exercise physiology metrics using local Strava data exports. Designed sports scientists, coaches, athletes seeking standardized, reproducible workflows quantify training load, performance, physiological adaptation.","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"core-capabilities","dir":"","previous_headings":"üéØ Overview","what":"Core Capabilities","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Training Load Monitoring ‚Äî ACWR injury risk assessment Aerobic Fitness ‚Äî Efficiency Factor (EF) analysis Cardiovascular Metrics ‚Äî Decoupling TSS calculations Privacy-First ‚Äî Local processing, API keys required ‚ú® New v1.0.0: Direct ZIP file support ‚Äî load Strava exports without manual extraction","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/index.html","id":"lock-privacy-first-design","dir":"","previous_headings":"‚ú® Key Features","what":"üîí Privacy-First Design","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Local processing ‚Ä¢ API authentication ‚Ä¢ Complete data ownership ‚Ä¢ Works offline","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"bar_chart-scientific-rigor","dir":"","previous_headings":"‚ú® Key Features","what":"üìä Scientific Rigor","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"ACWR injury risk monitoring ‚Ä¢ Efficiency Factor analysis ‚Ä¢ Cardiovascular decoupling ‚Ä¢ Training Stress Score","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"package-developer-friendly","dir":"","previous_headings":"‚ú® Key Features","what":"üì¶ Developer Friendly","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Direct ZIP loading ‚Ä¢ Tidy tibble output ‚Ä¢ Extensible architecture ‚Ä¢ Comprehensive docs","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"chart_with_upwards_trend-publication-ready","dir":"","previous_headings":"‚ú® Key Features","what":"üìà Publication Ready","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"High-quality visualizations ‚Ä¢ Cohort comparison ‚Ä¢ Reproducible workflows ‚Ä¢ Export-ready figures","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"package-installation","dir":"","previous_headings":"","what":"üì¶ Installation","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Stable Release (CRAN) Latest Version 1.0.0 (GitHub - Recommended) üí° Tip: Version 1.0.0 GitHub includes direct ZIP file support enhanced features. CRAN update pending approval.","code":"install.packages(\"Athlytics\") # Install remotes if needed install.packages(\"remotes\")  # Get the latest v1.0.0 with new features remotes::install_github('HzaCode/Athlytics')"},{"path":[]},{"path":"https://hezhiang.com/Athlytics/index.html","id":"inbox_tray-step-1-export-your-strava-data","dir":"","previous_headings":"üöÄ Quick Start","what":"üì• Step 1: Export Your Strava Data","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Go Strava Settings ‚Üí Account Click ‚ÄúGet Started‚Äù ‚ÄúDownload Delete Account‚Äù Select ‚ÄúDownload Request‚Äù ‚ö†Ô∏è (Delete Account!) Wait email download link (usually < 2 hours) Download ZIP file (e.g., export_12345678.zip) üìñ Official Strava Export Guide ‚Ä¢ ‚è±Ô∏è Processing: 30 min - 2 hours ‚Ä¢ üì¶ Size: 10-500 MB","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"computer-step-2-load-and-analyze","dir":"","previous_headings":"üöÄ Quick Start","what":"üíª Step 2: Load and Analyze","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"üèÉ Single Athlete Analysis üë• Multi-Athlete Cohort Studies üìö Complete Tutorial Real Examples","code":"library(Athlytics)  # Load data directly from ZIP (no extraction needed!) activities <- load_local_activities(\"athlete1_export.zip\")  # Calculate and visualize training load acwr_data <- calculate_acwr(activities_data = activities) plot_acwr(acwr_data, highlight_zones = TRUE) library(dplyr)  # Load activities for multiple athletes athlete1 <- load_local_activities(\"athlete1_export.zip\") %>%   mutate(athlete_id = \"athlete1\", group = \"intervention\")  athlete2 <- load_local_activities(\"athlete2_export.zip\") %>%   mutate(athlete_id = \"athlete2\", group = \"intervention\")  athlete3 <- load_local_activities(\"athlete3_export.zip\") %>%   mutate(athlete_id = \"athlete3\", group = \"control\")  # Combine data cohort_data <- bind_rows(athlete1, athlete2, athlete3)  # Calculate ACWR for each athlete using group_by cohort_acwr <- cohort_data %>%   group_by(athlete_id) %>%   do(calculate_acwr_ewma(.))  # Calculate reference percentiles reference_bands <- cohort_reference(   data = cohort_acwr,   metric = \"acwr_smooth\",   by = c(\"group\") )  # Compare individual athlete against cohort individual_acwr <- cohort_acwr %>% filter(athlete_id == \"athlete1\") plot_with_reference(   individual = individual_acwr,   reference = reference_bands )"},{"path":"https://hezhiang.com/Athlytics/index.html","id":"bar_chart-core-analyses","dir":"","previous_headings":"","what":"üìä Core Analyses","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"functions return tidy tibble outputs ready statistical analysis","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"one-training-load-monitoring-acwr","dir":"","previous_headings":"üìä Core Analyses","what":"1Ô∏è‚É£ Training Load Monitoring (ACWR)","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Monitor training load ramping identify injury risk periods Key Metrics Acute Load (7-day) ‚Ä¢ Chronic Load (28-day) ‚Ä¢ ACWR Ratio ‚Ä¢ Risk zones (0.8-1.3 sweet spot, >1.5 danger) Use Cases ‚ö†Ô∏è Injury risk prediction ‚Ä¢ üìà Training load progression ‚Ä¢ üîÑ Return--play monitoring  üìñ ACWR Methodology & Validation","code":"# Calculate ACWR acwr_data <- calculate_acwr(activities_data = activities, load_metric = \"duration_mins\")  # Visualize with risk zones plot_acwr(acwr_data, highlight_zones = TRUE)"},{"path":"https://hezhiang.com/Athlytics/index.html","id":"two-aerobic-efficiency-ef","dir":"","previous_headings":"üìä Core Analyses","what":"2Ô∏è‚É£ Aerobic Efficiency (EF)","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Track aerobic fitness adaptations time Key Metrics Pace/HR Ratio (runs) ‚Ä¢ Power/HR Ratio (cycling) ‚Ä¢ Normalized Power efficiency ‚Ä¢ Fitness trend analysis Use Cases üèÉ Aerobic base development ‚Ä¢ üìä Training effectiveness ‚Ä¢ üéØ Periodization monitoring  üìñ Efficiency Factor Theory","code":"# Calculate Efficiency Factor ef_data <- calculate_ef(activities_data = activities, ef_metric = \"Pace_HR\")  # Plot with trend line plot_ef(ef_data, add_trend_line = TRUE)"},{"path":"https://hezhiang.com/Athlytics/index.html","id":"three-cardiovascular-decoupling","dir":"","previous_headings":"üìä Core Analyses","what":"3Ô∏è‚É£ Cardiovascular Decoupling","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"Quantify cardiovascular drift endurance efforts Key Metrics First vs second half comparison ‚Ä¢ Decoupling percentage ‚Ä¢ Quality thresholds (<5% excellent) ‚Ä¢ Aerobic endurance indicator Use Cases üî¨ Aerobic fitness assessment ‚Ä¢ üå°Ô∏è Heat/fatigue adaptation ‚Ä¢ üìâ Overtraining detection  üìñ Decoupling Analysis Guide","code":"# Calculate decoupling decoupling_data <- calculate_decoupling(activities_data = activities)  # Visualize trends plot_decoupling(decoupling_data, decouple_metric = \"Pace_HR\")"},{"path":"https://hezhiang.com/Athlytics/index.html","id":"microscope-advanced-features","dir":"","previous_headings":"","what":"üî¨ Advanced Features","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"üìä Statistical Analysis Cohort comparison ‚Ä¢ Quality flagging ‚Ä¢ Statistical testing ‚Ä¢ Anomaly detection üéØ Performance Tracking Personal bests (PR detection) ‚Ä¢ Training stress balance ‚Ä¢ Fitness-fatigue dynamics ‚Ä¢ Periodization tools üìö Explore Advanced Features Examples","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"pencil-citation","dir":"","previous_headings":"","what":"üìù Citation","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"use Athlytics research, please cite: Note: Also cite original methodological papers specific metrics used (see documentation)","code":"@software{athlytics2025,   title   = {Athlytics: An R Framework for Longitudinal Analysis of Exercise Physiology},   author  = {Zhiang He},   year    = {2025},   version = {1.0.0},   url     = {https://github.com/HzaCode/Athlytics} }"},{"path":"https://hezhiang.com/Athlytics/index.html","id":"handshake-contributing","dir":"","previous_headings":"","what":"ü§ù Contributing","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"welcome contributions community! üêõ Report Issues ‚Üí Open Issueüí° Suggest Features ‚Üí Start Discussionüîß Submit Code ‚Üí Read CONTRIBUTING.mdüìñ Guidelines ‚Üí Follow Code Conduct","code":""},{"path":"https://hezhiang.com/Athlytics/index.html","id":"link-links--resources","dir":"","previous_headings":"","what":"üîó Links & Resources","title":"Academic R Package for Sports Physiology Analysis from Local Strava Data","text":"üìñ Documentation ‚Ä¢ üêô GitHub ‚Ä¢ ‚ùì Issues ‚Ä¢ üí¨ Discussions ‚Ä¢ üì¶ CRAN","code":""},{"path":"https://hezhiang.com/Athlytics/reference/add_reference_bands.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","title":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","text":"Adds percentile reference bands cohort individual's metric plot.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/add_reference_bands.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","text":"","code":"add_reference_bands(   p,   reference_data,   bands = c(\"p25_p75\", \"p05_p95\", \"p50\"),   alpha = 0.15,   colors = list(p25_p75 = \"#440154FF\", p05_p95 = \"#3B528BFF\", p50 = \"#21908CFF\") )"},{"path":"https://hezhiang.com/Athlytics/reference/add_reference_bands.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","text":"p ggplot object (typically plot_acwr similar). reference_data data frame `cohort_reference()`. bands Character vector specifying bands plot. Options: \"p25_p75\" (inner quartiles), \"p05_p95\" (outer 5-95 range), \"p50\" (median). Default c(\"p25_p75\", \"p05_p95\", \"p50\"). alpha Transparency reference bands (0-1). Default 0.15. colors Named list colors bands. Default uses viridis colors.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/add_reference_bands.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","text":"ggplot object added reference bands.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/add_reference_bands.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Cohort Reference Bands to Existing Plot ‚Äî add_reference_bands","text":"","code":"if (FALSE) { # \\dontrun{ # Create base plot p <- plot_acwr(acwr_df = individual_acwr)  # Add reference bands p_with_ref <- add_reference_bands(p, reference_data = cohort_ref) print(p_with_ref) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_acwr_zones.html","id":null,"dir":"Reference","previous_headings":"","what":"ACWR Zone Colors ‚Äî athlytics_colors_acwr_zones","title":"ACWR Zone Colors ‚Äî athlytics_colors_acwr_zones","text":"Standardized colors ACWR risk zones following sports science conventions.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_acwr_zones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ACWR Zone Colors ‚Äî athlytics_colors_acwr_zones","text":"","code":"athlytics_colors_acwr_zones()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_ef.html","id":null,"dir":"Reference","previous_headings":"","what":"Efficiency Factor Colors ‚Äî athlytics_colors_ef","title":"Efficiency Factor Colors ‚Äî athlytics_colors_ef","text":"Colors efficiency factor trends activity type.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_ef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Efficiency Factor Colors ‚Äî athlytics_colors_ef","text":"","code":"athlytics_colors_ef()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_training_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Training Load Colors ‚Äî athlytics_colors_training_load","title":"Training Load Colors ‚Äî athlytics_colors_training_load","text":"Colors acute chronic training load visualization.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_colors_training_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Training Load Colors ‚Äî athlytics_colors_training_load","text":"","code":"athlytics_colors_training_load()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_academic.html","id":null,"dir":"Reference","previous_headings":"","what":"Academic Muted Color Palette ‚Äî athlytics_palette_academic","title":"Academic Muted Color Palette ‚Äî athlytics_palette_academic","text":"Low-saturation, elegant palette suitable formal publications technical reports. Emphasizes clarity visual impact.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_academic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Academic Muted Color Palette ‚Äî athlytics_palette_academic","text":"","code":"athlytics_palette_academic()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_academic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Academic Muted Color Palette ‚Äî athlytics_palette_academic","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) ggplot(data, aes(x, y, color = group)) +   geom_line() +   scale_color_manual(values = athlytics_palette_academic()) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_cell.html","id":null,"dir":"Reference","previous_headings":"","what":"Cell Journal Palette ‚Äî athlytics_palette_cell","title":"Cell Journal Palette ‚Äî athlytics_palette_cell","text":"Modern palette based Cell Press visualization standards. Balances professional appearance visual clarity.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cell Journal Palette ‚Äî athlytics_palette_cell","text":"","code":"athlytics_palette_cell()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_nature.html","id":null,"dir":"Reference","previous_headings":"","what":"Nature-Inspired Color Palette ‚Äî athlytics_palette_nature","title":"Nature-Inspired Color Palette ‚Äî athlytics_palette_nature","text":"Professional, colorblind-friendly palette based Nature journal's visualization guidelines. Suitable multi-series plots.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_nature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nature-Inspired Color Palette ‚Äî athlytics_palette_nature","text":"","code":"athlytics_palette_nature()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_nature.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nature-Inspired Color Palette ‚Äî athlytics_palette_nature","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) ggplot(data, aes(x, y, color = group)) +   geom_line() +   scale_color_manual(values = athlytics_palette_nature()) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_science.html","id":null,"dir":"Reference","previous_headings":"","what":"Science Magazine Palette ‚Äî athlytics_palette_science","title":"Science Magazine Palette ‚Äî athlytics_palette_science","text":"Classic palette inspired Science magazine's figure guidelines. Conservative widely accepted scientific community.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_science.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Science Magazine Palette ‚Äî athlytics_palette_science","text":"","code":"athlytics_palette_science()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_vibrant.html","id":null,"dir":"Reference","previous_headings":"","what":"Vibrant High-Contrast Palette ‚Äî athlytics_palette_vibrant","title":"Vibrant High-Contrast Palette ‚Äî athlytics_palette_vibrant","text":"High-saturation palette optimized presentations posters. Maximum visual impact maintaining colorblind accessibility.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_vibrant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vibrant High-Contrast Palette ‚Äî athlytics_palette_vibrant","text":"","code":"athlytics_palette_vibrant()"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_palette_vibrant.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Vibrant High-Contrast Palette ‚Äî athlytics_palette_vibrant","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) ggplot(data, aes(x, y, fill = category)) +   geom_bar(stat = \"identity\") +   scale_fill_manual(values = athlytics_palette_vibrant()) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_acwr.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample ACWR Data for Athlytics ‚Äî athlytics_sample_acwr","title":"Sample ACWR Data for Athlytics ‚Äî athlytics_sample_acwr","text":"dataset containing pre-calculated Acute:Chronic Workload Ratio (ACWR) related metrics, derived simulated Strava data. Used examples tests.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_acwr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample ACWR Data for Athlytics ‚Äî athlytics_sample_acwr","text":"","code":"athlytics_sample_acwr"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_acwr.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample ACWR Data for Athlytics ‚Äî athlytics_sample_acwr","text":"tibble X rows 5 variables: date Date metrics, Date object. atl Acute Training Load, numeric value. ctl Chronic Training Load, numeric value. acwr Acute:Chronic Workload Ratio, numeric value. acwr_smooth Smoothed ACWR, numeric value.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_acwr.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample ACWR Data for Athlytics ‚Äî athlytics_sample_acwr","text":"Simulated data generated package examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_decoupling.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Aerobic Decoupling Data for Athlytics ‚Äî athlytics_sample_decoupling","title":"Sample Aerobic Decoupling Data for Athlytics ‚Äî athlytics_sample_decoupling","text":"dataset containing pre-calculated aerobic decoupling percentages, derived simulated Strava data. Used examples tests.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_decoupling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Aerobic Decoupling Data for Athlytics ‚Äî athlytics_sample_decoupling","text":"","code":"athlytics_sample_decoupling"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_decoupling.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Aerobic Decoupling Data for Athlytics ‚Äî athlytics_sample_decoupling","text":"tibble X rows 2 variables: date Date activity, Date object. decoupling Calculated decoupling percentage, numeric value.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_decoupling.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Aerobic Decoupling Data for Athlytics ‚Äî athlytics_sample_decoupling","text":"Simulated data generated package examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_ef.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Efficiency Factor (EF) Data for Athlytics ‚Äî athlytics_sample_ef","title":"Sample Efficiency Factor (EF) Data for Athlytics ‚Äî athlytics_sample_ef","text":"dataset containing pre-calculated Efficiency Factor (EF) values, derived simulated Strava data. Used examples tests.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_ef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Efficiency Factor (EF) Data for Athlytics ‚Äî athlytics_sample_ef","text":"","code":"athlytics_sample_ef"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_ef.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Efficiency Factor (EF) Data for Athlytics ‚Äî athlytics_sample_ef","text":"data.frame X rows 3 variables: date Date activity, Date object. activity_type Type activity (e.g., \"Run\", \"Ride\"), character string. ef_value Calculated Efficiency Factor, numeric value.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_ef.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Efficiency Factor (EF) Data for Athlytics ‚Äî athlytics_sample_ef","text":"Simulated data generated package examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Training Load Exposure Data for Athlytics ‚Äî athlytics_sample_exposure","title":"Sample Training Load Exposure Data for Athlytics ‚Äî athlytics_sample_exposure","text":"dataset contains daily training load, ATL, CTL, ACWR, derived simulated Strava data. Used examples tests, particularly `plot_exposure`.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Training Load Exposure Data for Athlytics ‚Äî athlytics_sample_exposure","text":"","code":"athlytics_sample_exposure"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_exposure.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Training Load Exposure Data for Athlytics ‚Äî athlytics_sample_exposure","text":"tibble X rows 5 variables: date Date metrics, Date object. daily_load Calculated daily training load, numeric value. ctl Chronic Training Load, numeric value. atl Acute Training Load, numeric value. acwr Acute:Chronic Workload Ratio, numeric value.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_exposure.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Training Load Exposure Data for Athlytics ‚Äî athlytics_sample_exposure","text":"Simulated data generated package examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_pbs.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Personal Bests (PBs) Data for Athlytics ‚Äî athlytics_sample_pbs","title":"Sample Personal Bests (PBs) Data for Athlytics ‚Äî athlytics_sample_pbs","text":"dataset containing pre-calculated Personal Best (PB) times various distances, derived simulated Strava data. Used examples tests.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_pbs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Personal Bests (PBs) Data for Athlytics ‚Äî athlytics_sample_pbs","text":"","code":"athlytics_sample_pbs"},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_pbs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Personal Bests (PBs) Data for Athlytics ‚Äî athlytics_sample_pbs","text":"tibble X rows 10 variables: activity_id ID activity effort occurred, character string. activity_date Date time activity, POSIXct object. distance Target distance meters best effort, numeric value. elapsed_time Elapsed time effort seconds, numeric value. moving_time Moving time effort seconds, numeric value. time_seconds Typically elapsed_time best efforts, seconds, numeric value. cumulative_pb_seconds personal best time distance date, seconds, numeric value. is_pb Logical, TRUE effort set new personal best. distance_label Factor representing distance (e.g., \"1k\", \"5k\"). time_period Formatted time effort, Period object lubridate.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/athlytics_sample_pbs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Personal Bests (PBs) Data for Athlytics ‚Äî athlytics_sample_pbs","text":"Simulated data generated package examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"function calculates daily training load derives acute (short-term) chronic (long-term) load averages, computes ratio (ACWR). ACWR helps identify periods rapid training load increases may elevate injury risk. **Key Concepts:** **Acute Load (ATL)**: Rolling average recent training (default: 7 days) **Chronic Load (CTL)**: Rolling average longer-term training (default: 28 days) **ACWR**: Ratio ATL CTL (ATL / CTL) **Safe Zone**: ACWR 0.8-1.3 (optimal training stimulus) **Danger Zone**: ACWR > 1.5 (increased injury risk)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"","code":"calculate_acwr(   activities_data,   activity_type = NULL,   load_metric = \"duration_mins\",   acute_period = 7,   chronic_period = 28,   start_date = NULL,   end_date = NULL,   user_ftp = NULL,   user_max_hr = NULL,   user_resting_hr = NULL,   smoothing_period = 7 )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"activities_data data frame activities `load_local_activities()`. Must contain columns: `date`, `distance`, `moving_time`, `elapsed_time`, `average_heartrate`, `average_watts`, `type`, `elevation_gain`. activity_type Optional character vector. Filter activities type (e.g., `\"Run\"`, `\"Ride\"`, `c(\"Run\", \"Ride\")`). Default `NULL` includes types. load_metric Character string specifying load calculation method: `\"duration_mins\"`: Training duration minutes (default) `\"distance_km\"`: Distance kilometers `\"elapsed_time_mins\"`: Total elapsed time including stops `\"tss\"`: Training Stress Score (requires `user_ftp`) `\"hrss\"`: Heart Rate Stress Score (requires `user_max_hr` `user_resting_hr`) `\"elevation_gain_m\"`: Elevation gain meters acute_period Integer. Number days acute load window (default: 7). Represents recent training stimulus. Common values: 3-7 days. chronic_period Integer. Number days chronic load window (default: 28). Represents fitness/adaptation level. Must greater `acute_period`. Common values: 21-42 days. start_date Optional. Analysis start date (YYYY-MM-DD string, Date, POSIXct). Defaults one year `end_date`. Earlier data used calculating initial chronic load. end_date Optional. Analysis end date (YYYY-MM-DD string, Date, POSIXct). Defaults current date (Sys.Date()). user_ftp Numeric. Functional Threshold Power watts. Required `load_metric = \"tss\"`. Used normalize power-based training stress. user_max_hr Numeric. maximum heart rate bpm. Required `load_metric = \"hrss\"`. Used heart rate reserve calculations. user_resting_hr Numeric. resting heart rate bpm. Required `load_metric = \"hrss\"`. Used heart rate reserve calculations. smoothing_period Integer. Number days smoothing ACWR using rolling mean (default: 7). Reduces day--day noise clearer trend visualization.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"tibble following columns: date Date (Date class) atl Acute Training Load - rolling average `acute_period` days (numeric) ctl Chronic Training Load - rolling average `chronic_period` days (numeric) acwr Raw ACWR value (atl / ctl) (numeric) acwr_smooth Smoothed ACWR using `smoothing_period` rolling mean (numeric)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"Computes Acute:Chronic Workload Ratio (ACWR) local Strava activity data using rolling average methods. ACWR key metric monitoring training load injury risk athletes (Gabbett, 2016; Hulin et al., 2016). **Algorithm:** 1. Aggregate activities date compute daily load 2. Calculate acute load: rolling mean `acute_period` days 3. Calculate chronic load: rolling mean `chronic_period` days 4. Compute ACWR: ATL / CTL (set NA CTL < 0.01) 5. Apply smoothing: rolling mean `smoothing_period` days **Data Requirements:** function automatically fetches additional historical data (chronic_period days start_date) ensure accurate chronic load calculations analysis start point. Ensure Strava export contains sufficient historical activities. **Interpretation Guidelines:** ACWR < 0.8: May indicate detraining insufficient load ACWR 0.8-1.3: \"Sweet spot\" - optimal training stimulus lower injury risk ACWR 1.3-1.5: Caution zone - monitor fatigue ACWR > 1.5: High risk zone - consider load management **Multi-Athlete Studies:** cohort analyses, add `athlete_id` column calculation use `group_by(athlete_id)` `()`. See vignettes examples.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"Gabbett, T. J. (2016). training-injury prevention paradox: athletes training smarter harder? *British Journal Sports Medicine*, 50(5), 273-280. Hulin, B. T., et al. (2016). acute:chronic workload ratio predicts injury: high chronic workload may decrease injury risk elite rugby league players. *British Journal Sports Medicine*, 50(4), 231-236.","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Acute:Chronic Workload Ratio (ACWR) ‚Äî calculate_acwr","text":"","code":"# Example using simulated data (Note: sample data is pre-calculated, shown for demonstration) data(athlytics_sample_data) #> Warning: data set 'athlytics_sample_data' not found if (!is.null(athlytics_sample_acwr)) {   print(head(athlytics_sample_acwr)) } #> # A tibble: 6 √ó 5 #>   date         atl   ctl  acwr acwr_smooth #>   <date>     <dbl> <dbl> <dbl>       <dbl> #> 1 2023-01-01  63.7  63.7     1          NA #> 2 2023-01-02  54.4  54.4     1          NA #> 3 2023-01-03  54.6  54.6     1          NA #> 4 2023-01-04  55.5  55.5     1          NA #> 5 2023-01-05  55.8  55.8     1          NA #> 6 2023-01-06  55.2  55.2     1          NA  if (FALSE) { # \\dontrun{ # Example using local Strava export data # Step 1: Download your Strava data export # Go to Strava.com > Settings > My Account > Download or Delete Your Account # You'll receive a ZIP file via email (e.g., export_12345678.zip)  # Step 2: Load activities directly from ZIP (no extraction needed!) activities <- load_local_activities(\"export_12345678.zip\")  # Or from extracted CSV activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Step 3: Calculate ACWR for Runs (using distance) run_acwr <- calculate_acwr(activities_data = activities,                             activity_type = \"Run\",                            load_metric = \"distance\") print(tail(run_acwr))  # Calculate ACWR for Rides (using TSS, requires FTP) ride_acwr_tss <- calculate_acwr(activities_data = activities,                                 activity_type = \"Ride\",                                 load_metric = \"tss\",                                  user_ftp = 280) print(tail(ride_acwr_tss))  # Plot the results plot_acwr(run_acwr, highlight_zones = TRUE) } # }"},{"path":[]},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr_ewma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate ACWR using EWMA Method with Confidence Bands ‚Äî calculate_acwr_ewma","text":"","code":"calculate_acwr_ewma(   activities_data,   activity_type = NULL,   load_metric = \"duration_mins\",   method = c(\"ra\", \"ewma\"),   acute_period = 7,   chronic_period = 28,   half_life_acute = 3.5,   half_life_chronic = 14,   start_date = NULL,   end_date = NULL,   user_ftp = NULL,   user_max_hr = NULL,   user_resting_hr = NULL,   smoothing_period = 7,   ci = FALSE,   B = 200,   block_len = 7,   conf_level = 0.95 )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_acwr_ewma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate ACWR using EWMA Method with Confidence Bands ‚Äî calculate_acwr_ewma","text":"activities_data data frame activities `load_local_activities()`. activity_type Optional. Filter activities type. Default NULL includes . load_metric Method calculating daily load. Default \"duration_mins\". method ACWR calculation method: \"ra\" (rolling average) \"ewma\". Default \"ra\". acute_period Days acute window (RA method). Default 7. chronic_period Days chronic window (RA method). Default 28. half_life_acute Half-life acute EWMA days. Default 3.5. half_life_chronic Half-life chronic EWMA days. Default 14. start_date Optional. Analysis start date. Defaults one year ago. end_date Optional. Analysis end date. Defaults today. user_ftp Required `load_metric = \"tss\"`. user_max_hr Required `load_metric = \"hrss\"`. user_resting_hr Required `load_metric = \"hrss\"`. smoothing_period Days smoothing ACWR. Default 7. ci Logical. Whether calculate confidence bands (EWMA ). Default FALSE. B Number bootstrap iterations (ci = TRUE). Default 200. block_len Block length moving-block bootstrap (days). Default 7. conf_level Confidence level (0-1). Default 0.95 (95 data frame columns: `date`, `atl`, `ctl`, `acwr`, `acwr_smooth`,   `ci = TRUE` `method = \"ewma\"`: `acwr_lower`, `acwr_upper`.   Calculates Acute:Chronic Workload Ratio (ACWR) using Exponentially Weighted Moving Average (EWMA) optional bootstrap confidence bands.   function extends basic ACWR calculation two methods: **RA (Rolling Average)**: Traditional rolling mean approach (default). **EWMA (Exponentially Weighted Moving Average)**: Uses exponential decay     configurable half-lives. responsive recent changes.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"Cardiovascular decoupling (aerobic decoupling) measures deterioration efficiency prolonged exercise. fatigue, heart rate tends rise (cardiac drift) power/pace may decrease, indicating reduced efficiency. Low decoupling suggests good aerobic fitness durability given intensity. **Decoupling Formula:** Decoupling% = ((EF_half1 - EF_half2) / EF_half1) √ó 100 : **Running**: EF = Pace / Heart Rate **Cycling**: EF = Power / Heart Rate **Interpretation:** **< 5%**: Excellent aerobic fitness pacing **5-10%**: Acceptable intensity **> 10%**: Possible inadequate aerobic base, fast pace, environmental stress **Negative values**: Possible warm-effect pacing issues","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"","code":"calculate_decoupling(   activities_data,   export_dir = \"strava_export_data\",   activity_type = c(\"Run\", \"Ride\"),   start_date = NULL,   end_date = NULL,   min_duration_mins = 40 )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"activities_data data frame activities `load_local_activities()`. Must contain columns: `date`, `type`, `filename`. `filename` column used locate detailed activity files (FIT/TCX/GPX) Strava export. export_dir Character string. Base directory Strava export containing activities folder detailed activity files. Default: `\"strava_export_data\"`. loaded ZIP, path ZIP extracted (handled automatically `load_local_activities`). activity_type Character vector single string. Activity type(s) analyze. Common values: `\"Run\"`, `\"Ride\"`. Default: `c(\"Run\", \"Ride\")`. start_date Optional. Analysis start date (YYYY-MM-DD string, Date, POSIXct). Defaults NULL (include dates). end_date Optional. Analysis end date (YYYY-MM-DD string, Date, POSIXct). Defaults NULL (include dates). min_duration_mins Numeric. Minimum activity duration minutes include analysis (default: 40). Shorter activities may show meaningful decoupling. Recommended: 45-60+ minutes reliable decoupling assessment.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"tibble following columns: date Activity date (Date class) activity_id Strava activity ID (character) decoupling_percent Decoupling percentage (numeric). Positive values indicate drift.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"Quantifies cardiovascular drift endurance activities comparing efficiency (pace/HR power/HR) first second halves activity. Decoupling key indicator aerobic endurance durability (Maunder et al., 2021). **Algorithm:** 1. Parse detailed activity files (FIT/TCX/GPX) extract time-series data 2. Split activity first second halves time 3. Calculate average efficiency half:    - Running: avg_pace / avg_HR half    - Cycling: avg_power / avg_HR half 4. Compute decoupling percentage: ((half1_EF - half2_EF) / half1_EF) √ó 100 **Data Requirements:** Requires detailed activity files (FIT/TCX/GPX) Strava export Must continuous heart rate data throughout activity Cycling decoupling requires power meter data Activities must > min_duration_mins (default 40 minutes) **Best Practices:** Use steady-state aerobic efforts (long runs, endurance rides) Avoid interval workouts (high variability confounds results) Consistent pacing yields interpretable results Track decoupling trends time (individual sessions) **Factors Affecting Decoupling:** **Aerobic Fitness**: Better base = lower decoupling **Intensity**: Higher intensity = decoupling **Temperature**: Heat increases cardiac drift **Hydration**: Dehydration worsens decoupling **Fatigue**: Accumulated fatigue increases decoupling **Pacing**: Poor pacing (starting fast) inflates decoupling **Training Applications:** Monitor aerobic base development base training Assess readiness race-specific intensity Validate pacing strategy long events Identify need aerobic volume","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"function requires optional `FITfileR` package parsing FIT files. Install : `install.packages(\"FITfileR\")`. TCX GPX parsing uses `XML` package.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"Maunder, E., Seiler, S., Mildenhall, M. J., Kilding, . E., & Plews, D. J. (2021). Importance 'Durability' Physiological Profiling Endurance Athletes. *Sports Medicine*, 51(8), 1619-1628.","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/reference/calculate_decoupling.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Cardiovascular Decoupling ‚Äî calculate_decoupling","text":"","code":"# Example using simulated data data(athlytics_sample_decoupling) #> Warning: data set 'athlytics_sample_decoupling' not found print(head(athlytics_sample_decoupling)) #> # A tibble: 6 √ó 3 #>   date       activity_name decoupling #>   <date>     <chr>              <dbl> #> 1 2023-03-11 Run 1               7.43 #> 2 2023-03-17 Run 2               6.00 #> 3 2023-03-19 Run 3               6.88 #> 4 2023-04-01 Run 4               7.99 #> 5 2023-04-17 Run 5               6.64 #> 6 2023-04-24 Run 6               8.15  if (FALSE) { # \\dontrun{ # Load local activities activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Calculate decoupling for long runs decoupling_data <- calculate_decoupling(   activities_data = activities,   export_dir = \"strava_export_data\",   activity_type = \"Run\",   min_duration_mins = 60 ) print(head(decoupling_data)) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"Efficiency Factor measures much work perform per unit cardiovascular effort. Higher EF indicates better aerobic fitness - able maintain faster pace higher power heart rate. Tracking EF time helps monitor aerobic base development training effectiveness. **EF Metrics:** **Pace_HR** (running): Speed (m/s) / Average HR     - Higher values = faster pace HR = better fitness **Power_HR** (cycling): Average Power (watts) / Average HR     - Higher values = power HR = better fitness **Improves EF?** Aerobic base building (Zone 2 training) Improved running/cycling economy Enhanced cardiovascular efficiency Increased mitochondrial density","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"","code":"calculate_ef(   activities_data,   activity_type = c(\"Run\", \"Ride\"),   ef_metric = c(\"Pace_HR\", \"Power_HR\"),   start_date = NULL,   end_date = NULL,   min_duration_mins = 20 )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"activities_data data frame activities `load_local_activities()`. Must contain columns: `date`, `type`, `moving_time`, `distance`, `average_heartrate`, `average_watts` (Power_HR metric). activity_type Character vector single string specifying activity type(s) analyze. Common values: `\"Run\"`, `\"Ride\"`, `c(\"Run\", \"Ride\")`. Default: `c(\"Run\", \"Ride\")`. ef_metric Character string specifying efficiency metric: `\"Pace_HR\"`: Pace-based efficiency (running). Formula: (distance / moving_time) / avg_HR `\"Power_HR\"`: Power-based efficiency (cycling). Formula: avg_watts / avg_HR Default: `c(\"Pace_HR\", \"Power_HR\")` (uses first matching metric activity type). start_date Optional. Analysis start date (YYYY-MM-DD string, Date, POSIXct). Defaults one year `end_date`. end_date Optional. Analysis end date (YYYY-MM-DD string, Date, POSIXct). Defaults current date (Sys.Date()). min_duration_mins Numeric. Minimum activity duration minutes include analysis (default: 20). Filters short activities may represent steady-state aerobic efforts.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"tibble following columns: date Activity date (Date class) activity_type Activity type (character: \"Run\" \"Ride\") ef_value Efficiency Factor value (numeric). Higher = better fitness.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"Computes Efficiency Factor (EF) endurance activities, quantifying relationship performance output (pace power) heart rate. EF key indicator aerobic fitness training adaptation (Allen et al., 2019). **Algorithm:** 1. Filter activities type, date range, minimum duration 2. activity, calculate:    - Pace_HR: (distance / moving_time) / average_heartrate    - Power_HR: average_watts / average_heartrate 3. Return one EF value per activity **Data Quality Considerations:** Requires heart rate data (activities without HR excluded) Power_HR requires power meter data (cycling power) Best steady-state endurance efforts (tempo runs, long rides) Interval workouts may give misleading EF values Environmental factors (heat, altitude) can affect EF **Interpretation:** **Upward trend**: Improving aerobic fitness **Stable**: Maintenance phase **Downward trend**: Possible overtraining, fatigue, environmental stress **Sudden drop**: Check illness, equipment change, data quality **Typical EF Ranges (Pace_HR running):** Beginner: 0.01 - 0.015 (m/s per bpm) Intermediate: 0.015 - 0.020 Advanced: 0.020 - 0.025 Elite: > 0.025 Note: EF values relative individual baseline. Focus personal trends rather absolute comparisons athletes.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"Allen, H., Coggan, . R., & McGregor, S. (2019). *Training Racing Power Meter* (3rd ed.). VeloPress.","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/reference/calculate_ef.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Efficiency Factor (EF) ‚Äî calculate_ef","text":"","code":"# Example using simulated data data(athlytics_sample_data) #> Warning: data set 'athlytics_sample_data' not found print(head(athlytics_sample_ef)) #> # A tibble: 6 √ó 3 #>   date       activity_type ef_value #>   <date>     <chr>            <dbl> #> 1 2023-01-02 Ride              1.70 #> 2 2023-01-11 Run               2.05 #> 3 2023-01-14 Run               1.58 #> 4 2023-01-17 Ride              1.97 #> 5 2023-01-22 Run               1.77 #> 6 2023-01-27 Run               1.58  if (FALSE) { # \\dontrun{ # Example using local Strava export data activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Calculate Pace/HR efficiency factor for Runs ef_data_run <- calculate_ef(activities_data = activities,                               activity_type = \"Run\",                               ef_metric = \"Pace_HR\") print(tail(ef_data_run))  # Calculate Power/HR efficiency factor for Rides ef_data_ride <- calculate_ef(activities_data = activities,                               activity_type = \"Ride\",                               ef_metric = \"Power_HR\") print(tail(ef_data_ride)) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"Calculates training load metrics like ATL, CTL, ACWR local Strava data.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"","code":"calculate_exposure(   activities_data,   activity_type = c(\"Run\", \"Ride\", \"VirtualRide\", \"VirtualRun\"),   load_metric = \"duration_mins\",   acute_period = 7,   chronic_period = 42,   user_ftp = NULL,   user_max_hr = NULL,   user_resting_hr = NULL,   end_date = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"activities_data data frame activities `load_local_activities()`. Must contain columns: date, distance, moving_time, elapsed_time, average_heartrate, average_watts, type, elevation_gain. activity_type Type(s) activities include (e.g., \"Run\", \"Ride\"). Default includes common run/ride types. load_metric Method calculating daily load (e.g., \"duration_mins\", \"distance_km\", \"tss\", \"hrss\"). Default \"duration_mins\". acute_period Days acute load window (e.g., 7). chronic_period Days chronic load window (e.g., 42). Must greater `acute_period`. user_ftp Required `load_metric = \"tss\"`. Functional Threshold Power. user_max_hr Required `load_metric = \"hrss\"`. maximum heart rate. user_resting_hr Required `load_metric = \"hrss\"`. resting heart rate. end_date Optional. Analysis end date (YYYY-MM-DD string Date). Defaults today. analysis period covers `chronic_period` days ending date.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"data frame columns: `date`, `daily_load`, `atl` (Acute Load),   `ctl` (Chronic Load), `acwr` (Acute:Chronic Ratio) analysis period.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"Calculates daily load, ATL, CTL, ACWR Strava activities based chosen metric periods. Provides data `plot_exposure`. Requires extra prior data   accurate initial CTL. Requires FTP/HR parameters TSS/HRSS metrics.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_exposure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Training Load Exposure (ATL, CTL, ACWR) ‚Äî calculate_exposure","text":"","code":"# Example using simulated data data(athlytics_sample_data) #> Warning: data set 'athlytics_sample_data' not found print(head(athlytics_sample_exposure)) #> # A tibble: 6 √ó 5 #>   date       daily_load   atl   ctl  acwr #>   <date>          <dbl> <dbl> <dbl> <dbl> #> 1 2023-07-01       41.4  45.9  40.7  1.13 #> 2 2023-07-02       73.4  47.4  41.6  1.14 #> 3 2023-07-03       24.2  50.6  42.7  1.18 #> 4 2023-07-04       38.8  49.9  43.2  1.15 #> 5 2023-07-05       50.2  48.0  43.7  1.10 #> 6 2023-07-06       69.4  49.7  44.7  1.11  if (FALSE) { # \\dontrun{ # Example using local Strava export data activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Calculate training load for Rides using TSS ride_exposure_tss <- calculate_exposure(   activities_data = activities,   activity_type = \"Ride\",   load_metric = \"tss\",   user_ftp = 280,   acute_period = 7,   chronic_period = 28 ) print(head(ride_exposure_tss))  # Calculate training load for Runs using HRSS run_exposure_hrss <- calculate_exposure(   activities_data = activities,   activity_type = \"Run\",   load_metric = \"hrss\",   user_max_hr = 190,   user_resting_hr = 50 ) print(tail(run_exposure_hrss)) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pace_hr_decoupling.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Pace/HR Decoupling for Running ‚Äî calculate_pace_hr_decoupling","title":"Calculate Pace/HR Decoupling for Running ‚Äî calculate_pace_hr_decoupling","text":"Calculate Pace/HR Decoupling Running","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pace_hr_decoupling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Pace/HR Decoupling for Running ‚Äî calculate_pace_hr_decoupling","text":"","code":"calculate_pace_hr_decoupling(stream_data)"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"Tracks personal best times standard distances (1k, 5k, 10k, half marathon, marathon) analyzing detailed activity files Strava export data.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"","code":"calculate_pbs(   activities_data,   export_dir = \"strava_export_data\",   activity_type = \"Run\",   start_date = NULL,   end_date = NULL,   distances_m = c(1000, 5000, 10000, 21097.5, 42195) )"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"activities_data data frame activities `load_local_activities()`. Must contain columns: date, type, filename, distance. export_dir Base directory Strava export containing activities folder. Default \"strava_export_data\". activity_type Type activities analyze (typically \"Run\"). Default \"Run\". start_date Optional start date analysis (YYYY-MM-DD). Defaults NULL (dates). end_date Optional end date analysis (YYYY-MM-DD). Defaults NULL (dates). distances_m Target distances meters track. Default: c(1000, 5000, 10000, 21097.5, 42195) 1k, 5k, 10k, half, full marathon.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"data frame columns: activity_id, activity_date, distance,   elapsed_time, moving_time, time_seconds, cumulative_pb_seconds, is_pb,   distance_label, time_period","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"function analyzes detailed activity files (FIT/TCX/GPX) find fastest efforts specified distances. tracks cumulative personal bests time, showing new PBs set. **Note**: Requires detailed activity files Strava export. Activities must long enough contain target distance segments.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_pbs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Personal Bests (PBs) from Local Strava Data ‚Äî calculate_pbs","text":"","code":"# Example using simulated data data(athlytics_sample_pbs) #> Warning: data set 'athlytics_sample_pbs' not found print(head(athlytics_sample_pbs)) #> # A tibble: 6 √ó 10 #>   activity_id activity_date       distance elapsed_time moving_time time_seconds #>   <chr>       <dttm>                 <dbl>        <dbl>       <dbl>        <dbl> #> 1 activity_1‚Ä¶ 2023-03-12 00:00:00     1000         240         235.         240  #> 2 activity_1‚Ä¶ 2023-03-19 00:00:00     1000         237.        233.         237. #> 3 activity_1‚Ä¶ 2023-03-27 00:00:00     1000         235.        230.         235. #> 4 activity_1‚Ä¶ 2023-04-20 00:00:00     1000         232.        227.         232. #> 5 activity_1‚Ä¶ 2023-04-27 00:00:00     1000         229.        225.         229. #> 6 activity_1‚Ä¶ 2023-04-30 00:00:00     1000         226.        222.         226. #> # ‚Ñπ 4 more variables: cumulative_pb_seconds <dbl>, is_pb <lgl>, #> #   distance_label <fct>, time_period <Period>  if (FALSE) { # \\dontrun{ # Load local activities activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Calculate PBs for standard running distances pbs_data <- calculate_pbs(   activities_data = activities,   export_dir = \"strava_export_data\",   activity_type = \"Run\" ) print(head(pbs_data)) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/calculate_power_hr_decoupling.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Power/HR Decoupling for Cycling ‚Äî calculate_power_hr_decoupling","title":"Calculate Power/HR Decoupling for Cycling ‚Äî calculate_power_hr_decoupling","text":"Calculate Power/HR Decoupling Cycling","code":""},{"path":"https://hezhiang.com/Athlytics/reference/calculate_power_hr_decoupling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Power/HR Decoupling for Cycling ‚Äî calculate_power_hr_decoupling","text":"","code":"calculate_power_hr_decoupling(stream_data)"},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"Calculates reference percentiles metric across cohort athletes, stratified specified grouping variables (e.g., sport, sex, age band).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"","code":"cohort_reference(   data,   metric = \"acwr_smooth\",   by = c(\"sport\"),   probs = c(0.05, 0.25, 0.5, 0.75, 0.95),   min_athletes = 5,   date_col = \"date\" )"},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"data data frame containing metric values multiple athletes. Must include columns: `date`, `athlete_id`, metric column. metric Name metric column calculate percentiles (e.g., \"acwr\", \"acwr_smooth\", \"ef\", \"decoupling\"). Default \"acwr_smooth\". Character vector grouping variables. Options: \"sport\", \"sex\", \"age_band\", \"athlete_id\". Default c(\"sport\"). probs Numeric vector probabilities percentiles (0-1). Default c(0.05, 0.25, 0.50, 0.75, 0.95) 5th, 25th, 50th, 75th, 95th percentiles. min_athletes Minimum number athletes required per group calculate valid percentiles. Default 5. date_col Name date column. Default \"date\".","code":""},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"long-format data frame columns: date Date ... Grouping variables (specified ``) percentile Percentile label (e.g., \"p05\", \"p25\", \"p50\", \"p75\", \"p95\") value Metric value percentile n_athletes Number athletes contributing percentile","code":""},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"function creates cohort-level reference bands comparing individual athlete metrics peers. Common use cases: Compare athlete's ACWR trend team averages Identify outliers (athletes outside P5-P95 range) Track team-wide trends time **Important**: Percentile bands represent **population variability**, statistical confidence intervals individual values.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/cohort_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Cohort Reference Percentiles ‚Äî cohort_reference","text":"","code":"if (FALSE) { # \\dontrun{ # Load activities for multiple athletes athlete1 <- load_local_activities(\"athlete1_export.zip\") %>%   mutate(athlete_id = \"athlete1\") athlete2 <- load_local_activities(\"athlete2_export.zip\") %>%   mutate(athlete_id = \"athlete2\") athlete3 <- load_local_activities(\"athlete3_export.zip\") %>%   mutate(athlete_id = \"athlete3\")  # Combine data cohort_data <- bind_rows(athlete1, athlete2, athlete3)  # Calculate ACWR for each athlete cohort_acwr <- cohort_data %>%   group_by(athlete_id) %>%   do(calculate_acwr_ewma(.))  # Calculate reference percentiles reference <- cohort_reference(   cohort_acwr,   metric = \"acwr_smooth\",   by = c(\"sport\"),   probs = c(0.05, 0.25, 0.5, 0.75, 0.95) )  # Plot individual against cohort plot_with_reference(   individual = cohort_acwr %>% filter(athlete_id == \"athlete1\"),   reference = reference ) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/find_best_effort.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Best Effort for Target Distance ‚Äî find_best_effort","title":"Find Best Effort for Target Distance ‚Äî find_best_effort","text":"Find Best Effort Target Distance","code":""},{"path":"https://hezhiang.com/Athlytics/reference/find_best_effort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Best Effort for Target Distance ‚Äî find_best_effort","text":"","code":"find_best_effort(stream_data, target_distance)"},{"path":[]},{"path":"https://hezhiang.com/Athlytics/reference/flag_quality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag Data Quality Issues in Activity Streams ‚Äî flag_quality","text":"","code":"flag_quality(   streams,   sport = \"Run\",   hr_range = c(30, 220),   pw_range = c(0, 1500),   max_run_speed = 7,   max_ride_speed = 25,   max_accel = 3,   max_hr_jump = 10,   max_pw_jump = 300,   min_steady_minutes = 20,   steady_cv_threshold = 8 )"},{"path":"https://hezhiang.com/Athlytics/reference/flag_quality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag Data Quality Issues in Activity Streams ‚Äî flag_quality","text":"streams data frame containing activity stream data time-series measurements. Expected columns: `time` (seconds), `heartrate` (bpm), `watts` (W), `velocity_smooth` `speed` (m/s), `distance` (m). sport Type activity (e.g., \"Run\", \"Ride\"). Default \"Run\". hr_range Valid heart rate range c(min, max). Default c(30, 220). pw_range Valid power range c(min, max). Default c(0, 1500). max_run_speed Maximum plausible running speed m/s. Default 7.0 (‚âà2:23/km). max_ride_speed Maximum plausible riding speed m/s. Default 25.0 (‚âà90 km/h). max_accel Maximum plausible acceleration m/s¬≤. Default 3.0. max_hr_jump Maximum plausible HR change per second (bpm/s). Default 10. max_pw_jump Maximum plausible power change per second (W/s). Default 300. min_steady_minutes Minimum duration (minutes) steady-state segment. Default 20. steady_cv_threshold Coefficient variation threshold steady-state ( data frame identical `streams` additional flag columns: flag_hr_spike Logical. TRUE HR range excessive jump. flag_pw_spike Logical. TRUE power range excessive jump. flag_gps_drift Logical. TRUE speed acceleration implausible. flag_any Logical. TRUE quality flag raised. is_steady_state Logical. TRUE segment meets steady-state criteria. quality_score Numeric 0-1. Proportion clean data (1 = perfect). **HR/Power Spikes**: Flags values outside physiological ranges     sudden jumps (Delta HR > 10 bpm/s, Delta P > 300 W/s). **GPS Drift**: Flags implausible speeds accelerations based sport type. **Steady-State Detection**: Identifies segments low variability     (CV < 8%) lasting >= 20 minutes, suitable EF/decoupling calculations.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Activities from Local Strava Export ‚Äî load_local_activities","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"Reads processes activity data local Strava export, supporting direct CSV files compressed ZIP archives. function converts Strava export data format compatible Athlytics analysis functions. Designed work Strava's official bulk data export (Settings > Account > Download Delete Account > Get Started).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"","code":"load_local_activities(   csv_path = \"strava_export_data/activities.csv\",   start_date = NULL,   end_date = NULL,   activity_types = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"csv_path Path activities.csv file .zip archive Strava export. .zip file provided, function automatically extract read activities.csv file within archive. Default \"strava_export_data/activities.csv\". start_date Optional. Start date (YYYY-MM-DD Date/POSIXct) filtering activities. Defaults NULL (filtering). end_date Optional. End date (YYYY-MM-DD Date/POSIXct) filtering activities. Defaults NULL (filtering). activity_types Optional. Character vector activity types include (e.g., c(\"Run\", \"Ride\")). Defaults NULL (include types).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"tibble activity data standardized column names compatible   Athlytics functions. Key columns include: id: Activity ID (numeric) name: Activity name type: Activity type (Run, Ride, etc.) start_date_local: Activity start datetime (POSIXct) date: Activity date (Date) distance: Distance meters (numeric) moving_time: Moving time seconds (integer) elapsed_time: Elapsed time seconds (integer) average_heartrate: Average heart rate (numeric) average_watts: Average power watts (numeric) elevation_gain: Elevation gain meters (numeric)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"function reads activities.csv file Strava data export transforms data match structure expected Athlytics analysis functions. transformation includes: Converting column names match API format Parsing dates POSIXct format Converting distances meters Converting times seconds Filtering date range activity type specified **Important Note**: Due Strava API terms service restrictions, function used personal analysis exported data . using package academic research, ensure compliance Strava's API Agreement data usage policies.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/load_local_activities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Activities from Local Strava Export ‚Äî load_local_activities","text":"","code":"if (FALSE) { # \\dontrun{ # Load all activities from local CSV activities <- load_local_activities(\"strava_export_data/activities.csv\")  # Load directly from ZIP archive (no need to extract manually!) activities <- load_local_activities(\"export_12345678.zip\")  # Load only running activities from 2023 activities <- load_local_activities(   csv_path = \"export_12345678.zip\",   start_date = \"2023-01-01\",   end_date = \"2023-12-31\",   activity_types = \"Run\" )  # Use with Athlytics functions acwr_data <- calculate_acwr(activities, load_metric = \"distance\") plot_acwr(acwr_data, highlight_zones = TRUE)  # Multi-metric analysis ef_data <- calculate_ef(activities, ef_metric = \"Pace_HR\") plot_ef(ef_data, add_trend_line = TRUE) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/parse_activity_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse Activity File (FIT, TCX, or GPX) ‚Äî parse_activity_file","title":"Parse Activity File (FIT, TCX, or GPX) ‚Äî parse_activity_file","text":"Internal function parse activity files Strava export data. Supports FIT, TCX, GPX formats (including .gz compressed files).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_activity_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse Activity File (FIT, TCX, or GPX) ‚Äî parse_activity_file","text":"","code":"parse_activity_file(file_path, export_dir = NULL)"},{"path":"https://hezhiang.com/Athlytics/reference/parse_activity_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse Activity File (FIT, TCX, or GPX) ‚Äî parse_activity_file","text":"file_path Path activity file (can .fit, .tcx, .gpx, .gz compressed) export_dir Base directory Strava export (resolving relative paths)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_activity_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse Activity File (FIT, TCX, or GPX) ‚Äî parse_activity_file","text":"data frame columns: time, latitude, longitude, elevation,   heart_rate, power, cadence, speed (optional depending file content)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_fit_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse FIT file ‚Äî parse_fit_file","title":"Parse FIT file ‚Äî parse_fit_file","text":"Parse FIT file","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_fit_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse FIT file ‚Äî parse_fit_file","text":"","code":"parse_fit_file(file_path)"},{"path":"https://hezhiang.com/Athlytics/reference/parse_gpx_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse GPX file ‚Äî parse_gpx_file","title":"Parse GPX file ‚Äî parse_gpx_file","text":"Parse GPX file","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_gpx_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse GPX file ‚Äî parse_gpx_file","text":"","code":"parse_gpx_file(file_path)"},{"path":"https://hezhiang.com/Athlytics/reference/parse_tcx_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse TCX file ‚Äî parse_tcx_file","title":"Parse TCX file ‚Äî parse_tcx_file","text":"Parse TCX file","code":""},{"path":"https://hezhiang.com/Athlytics/reference/parse_tcx_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse TCX file ‚Äî parse_tcx_file","text":"","code":"parse_tcx_file(file_path)"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot ACWR Trend ‚Äî plot_acwr","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"Visualizes Acute:Chronic Workload Ratio (ACWR) trend time.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"","code":"plot_acwr(   stoken,   activity_type = NULL,   load_metric = \"duration_mins\",   acute_period = 7,   chronic_period = 28,   start_date = NULL,   end_date = NULL,   user_ftp = NULL,   user_max_hr = NULL,   user_resting_hr = NULL,   smoothing_period = 7,   highlight_zones = TRUE,   acwr_df = NULL,   group_var = NULL,   group_colors = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"stoken valid Strava token `rStrava::strava_oauth()`. Required unless `acwr_df` provided. activity_type Type(s) activities analyze (e.g., \"Run\", \"Ride\"). load_metric Method calculating daily load (e.g., \"duration_mins\", \"distance_km\", \"tss\", \"hrss\"). acute_period Days acute load window (e.g., 7). chronic_period Days chronic load window (e.g., 28). Must greater `acute_period`. start_date Optional. Analysis start date (YYYY-MM-DD string Date). Defaults ~1 year ago. end_date Optional. Analysis end date (YYYY-MM-DD string Date). Defaults today. user_ftp Required `load_metric = \"tss\"` `acwr_df` provided. Functional Threshold Power. user_max_hr Required `load_metric = \"hrss\"` `acwr_df` provided. maximum heart rate. user_resting_hr Required `load_metric = \"hrss\"` `acwr_df` provided. resting heart rate. smoothing_period Days smoothing ACWR using rolling mean (e.g., 7). Default 7. highlight_zones Logical, whether highlight different ACWR zones (e.g., sweet spot, high risk) plot. Default `TRUE`. acwr_df Optional. pre-calculated data frame `calculate_acwr`. provided, `stoken` calculation parameters ignored. group_var Optional. Column name grouping/faceting (e.g., \"athlete_id\"). group_colors Optional. Named vector colors groups.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"ggplot object showing ACWR trend.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"Plots ACWR trend time. Uses pre-calculated data calls `calculate_acwr` (can slow).   ACWR calculated acute load / chronic load. ratio 0.8-1.3 often considered \"sweet spot\".   `acwr_df` provided, calls `calculate_acwr` first (can slow hit API limits).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot ACWR Trend ‚Äî plot_acwr","text":"","code":"# Example using pre-calculated sample data data(\"athlytics_sample_acwr\", package = \"Athlytics\") #> Warning: data set 'athlytics_sample_acwr' not found p <- plot_acwr(athlytics_sample_acwr) #> Generating plot... print(p)   if (FALSE) { # \\dontrun{ # Example using real data (requires authentication) # Please replace with your actual Strava application details for this to work. # stoken_example <- rStrava::strava_oauth( #   app_name = \"YOUR_APP_NAME_PLACEHOLDER\", #   client_id = \"YOUR_CLIENT_ID_PLACEHOLDER\", #   client_secret = \"YOUR_CLIENT_SECRET_PLACEHOLDER\", #   cache = TRUE # )  # If you have a valid stoken_example, you can then use it: # Plot ACWR trend for Runs (using duration as load metric) # if (exists(\"stoken_example\") && inherits(stoken_example, \"Token2.0\")) { #   plot_acwr(stoken = stoken_example, #             activity_type = \"Run\", #             load_metric = \"duration_mins\", #             acute_period = 7, #             chronic_period = 28) # #   # Plot ACWR trend for Rides (using TSS as load metric) #   plot_acwr(stoken = stoken_example, #             activity_type = \"Ride\", #             load_metric = \"tss\", #             user_ftp = 280)  # FTP value is required # } else { #  message(\"stoken_example not created or invalid. Skipping real data example for plot_acwr.\") # } } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","title":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","text":"Creates faceted plot comparing Rolling Average EWMA ACWR calculations.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","text":"","code":"plot_acwr_comparison(   acwr_ra,   acwr_ewma,   title = \"ACWR Method Comparison: RA vs EWMA\" )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","text":"acwr_ra data frame `calculate_acwr_ewma(..., method = \"ra\")`. acwr_ewma data frame `calculate_acwr_ewma(..., method = \"ewma\")`. title Plot title. Default \"ACWR Method Comparison: RA vs EWMA\".","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","text":"ggplot object faceted comparison.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare RA and EWMA Methods Side-by-Side ‚Äî plot_acwr_comparison","text":"","code":"if (FALSE) { # \\dontrun{ activities <- load_local_activities(\"export.zip\")  acwr_ra <- calculate_acwr_ewma(activities, method = \"ra\") acwr_ewma <- calculate_acwr_ewma(activities, method = \"ewma\")  plot_acwr_comparison(acwr_ra, acwr_ewma) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"Creates comprehensive ACWR visualization optional confidence bands cohort reference percentiles.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"","code":"plot_acwr_enhanced(   acwr_data,   reference_data = NULL,   show_ci = TRUE,   show_reference = TRUE,   reference_bands = c(\"p25_p75\", \"p05_p95\", \"p50\"),   highlight_zones = TRUE,   title = NULL,   subtitle = NULL,   method_label = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"acwr_data data frame `calculate_acwr_ewma()` containing ACWR values. reference_data Optional. data frame `cohort_reference()` adding cohort reference bands. show_ci Logical. Whether show confidence bands (available data). Default TRUE. show_reference Logical. Whether show cohort reference bands (provided). Default TRUE. reference_bands reference bands show. Default c(\"p25_p75\", \"p05_p95\", \"p50\"). highlight_zones Logical. Whether highlight ACWR risk zones. Default TRUE. title Plot title. Default NULL (auto-generated). subtitle Plot subtitle. Default NULL (auto-generated). method_label Optional label method used (e.g., \"RA\", \"EWMA\"). Default NULL.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"ggplot object.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"enhanced plot function combines multiple visualization layers: Risk zone shading (sweet spot: 0.8-1.3, caution: 1.3-1.5, high risk: >1.5) Cohort reference percentile bands (provided) Bootstrap confidence bands (available data) Individual ACWR trend line layering order (bottom top): 1. Risk zones (background) 2. Cohort reference bands (P5-P95, P25-P75) 3. Confidence intervals (individual uncertainty) 4. ACWR line (individual trend)","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_acwr_enhanced.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enhanced ACWR Plot with Confidence Bands and Reference ‚Äî plot_acwr_enhanced","text":"","code":"if (FALSE) { # \\dontrun{ # Load activities activities <- load_local_activities(\"export.zip\")  # Calculate ACWR with EWMA and confidence bands acwr <- calculate_acwr_ewma(   activities,   method = \"ewma\",   ci = TRUE,   B = 200 )  # Basic enhanced plot plot_acwr_enhanced(acwr)  # With cohort reference reference <- cohort_reference(cohort_data, metric = \"acwr_smooth\") plot_acwr_enhanced(acwr, reference_data = reference) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"Visualizes trend aerobic decoupling time.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"","code":"plot_decoupling(   stoken,   activity_type = c(\"Run\", \"Ride\"),   decouple_metric = c(\"Pace_HR\", \"Power_HR\"),   start_date = NULL,   end_date = NULL,   min_duration_mins = 45,   max_activities = 50,   add_trend_line = TRUE,   smoothing_method = \"loess\",   decoupling_df = NULL,   group_var = NULL,   group_colors = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"stoken valid Strava token `rStrava::strava_oauth()`. Required unless `decoupling_df` provided. activity_type Type(s) activities analyze (e.g., \"Run\", \"Ride\"). decouple_metric Metric basis: \"Pace_HR\" \"Power_HR\". start_date Optional. Analysis start date (YYYY-MM-DD string Date). Defaults ~1 year ago. end_date Optional. Analysis end date (YYYY-MM-DD string Date). Defaults today. min_duration_mins Minimum activity duration (minutes) include. Default 45. max_activities Max number recent activities fetch/analyze `stoken` used. Default 50. add_trend_line Add smoothed trend line (`geom_smooth`)? Default `TRUE`. smoothing_method Smoothing method trend line (e.g., \"loess\", \"lm\"). Default \"loess\". decoupling_df Optional. pre-calculated data frame `calculate_decoupling`. provided, `stoken` calculation parameters ignored. Must contain 'date' 'decoupling' columns. group_var Optional. Column name grouping/faceting (e.g., \"athlete_id\"). group_colors Optional. Named vector colors groups.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"ggplot object showing decoupling trend.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"Plots aerobic decoupling trend time. Uses pre-calculated data calls `calculate_decoupling` (can slow). Plots decoupling percentage ((EF_1st_half - EF_2nd_half) / EF_1st_half * 100).   Positive values mean HR drifted relative output. 5   used reference. `decoupling_df` provided, calls `calculate_decoupling` first   (can slow hit API limits).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_decoupling.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Aerobic Decoupling Trend ‚Äî plot_decoupling","text":"","code":"# Example using pre-calculated sample data data(\"athlytics_sample_decoupling\", package = \"Athlytics\") #> Warning: data set 'athlytics_sample_decoupling' not found p <- plot_decoupling(athlytics_sample_decoupling) #> Generating plot... print(p) #> `geom_smooth()` using formula = 'y ~ x'   if (FALSE) { # \\dontrun{ # Example using real data (requires authentication) # NOTE: The following rStrava::strava_oauth call is a placeholder. # You MUST replace placeholders with your actual Strava API credentials. tryCatch({   stoken_example <- rStrava::strava_oauth(     app_name = \"YOUR_APP_NAME_PLACEHOLDER\",     app_client_id = \"YOUR_CLIENT_ID_PLACEHOLDER\",     # CORRECTED     app_secret = \"YOUR_CLIENT_SECRET_PLACEHOLDER\",  # CORRECTED     cache = TRUE,     app_scope = \"activity:read_all\" # Recommended scope   )    if (inherits(stoken_example, \"Token2.0\")) {     message(\"Placeholder stoken_example created for athlytics examples.\")      # Example 1: Plot Decoupling trend for Runs (last 6 months)     # This first calculates the data, then plots it.     message(\"Calculating decoupling for Runs (last 6 months) - may take a moment...\")     decoupling_runs_6mo <- tryCatch({         calculate_decoupling(             stoken = stoken_example,             activity_type = \"Run\",             decouple_metric = \"Pace_HR\",             date_range = c(format(Sys.Date() - lubridate::months(6), \"%Y-%m-%d\"),                             format(Sys.Date(), \"%Y-%m-%d\")),             max_activities = 5 # Keep low for example         )     }, error = function(e_calc) {         message(paste(\"Could not calculate decoupling data in example:\", e_calc$message))         return(dplyr::tibble()) # Return empty tibble on error     })      if (nrow(decoupling_runs_6mo) > 0 && \"decoupling\" %in% names(decoupling_runs_6mo)) {       p_runs_6mo <- plot_decoupling(decoupling_df = decoupling_runs_6mo, activity_type = \"Run\")       print(p_runs_6mo)     } else {       message(\"No decoupling data for Runs (last 6 months) to plot, or calculation failed.\")     }      # Example 2: Plot Decoupling trend for Rides     # decoupling_rides <- calculate_decoupling(     #   stoken = stoken_example,     #   activity_type = \"Ride\",     #   decouple_metric = \"Power_HR\",     #   max_activities = 5     # )     # if (nrow(decoupling_rides) > 0 && \"decoupling\" %in% names(decoupling_rides)) {     #   p_rides <- plot_decoupling(decoupling_df = decoupling_rides, activity_type = \"Ride\")     #   print(p_rides)     # } else {     #   message(\"No decoupling data for Rides to plot, or calculation failed.\")     # }      # Example 3: Plot Decoupling trend for multiple Run types (no trend line)     # decoupling_multi_run <- calculate_decoupling(     #   stoken = stoken_example,     #   activity_type = c(\"Run\", \"VirtualRun\"),     #   decouple_metric = \"Pace_HR\",     #   max_activities = 5     # )     # if (nrow(decoupling_multi_run) > 0 && \"decoupling\" %in% names(decoupling_multi_run)) {     #   p_multi_run <- plot_decoupling(     #     decoupling_df = decoupling_multi_run,     #     activity_type = c(\"Run\", \"VirtualRun\"),     #     add_trend_line = FALSE     #   )     #   print(p_multi_run)     # } else {     #   message(\"No decoupling data for multi-run types to plot, or calculation failed.\")     # }    } else {     message(\"Failed to create placeholder stoken for plot_decoupling examples.\")   } }, error = function(e_auth) {   message(paste(\"Error during rStrava authentication in example:\", e_auth$message)) }) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"Visualizes trend Efficiency Factor (EF) time.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"","code":"plot_ef(   stoken,   activity_type = c(\"Run\", \"Ride\"),   ef_metric = c(\"Pace_HR\", \"Power_HR\"),   start_date = NULL,   end_date = NULL,   min_duration_mins = 20,   add_trend_line = TRUE,   smoothing_method = \"loess\",   ef_df = NULL,   group_var = NULL,   group_colors = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"stoken valid Strava token `rStrava::strava_oauth()`. Required unless `ef_df` provided. activity_type Type(s) activities analyze (e.g., \"Run\", \"Ride\"). ef_metric Metric calculate: \"Pace_HR\" (Speed/HR) \"Power_HR\" (Power/HR). start_date Optional. Analysis start date (YYYY-MM-DD string Date). Defaults ~1 year ago. end_date Optional. Analysis end date (YYYY-MM-DD string Date). Defaults today. min_duration_mins Minimum activity duration (minutes) include. Default 20. add_trend_line Add smoothed trend line (`geom_smooth`)? Default `TRUE`. smoothing_method Smoothing method trend line (e.g., \"loess\", \"lm\"). Default \"loess\". ef_df Optional. pre-calculated data frame `calculate_ef`. provided, `stoken` calculation parameters ignored. group_var Optional. Column name grouping/faceting (e.g., \"athlete_id\"). group_colors Optional. Named vector colors groups.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"ggplot object showing EF trend.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"Plots Efficiency Factor (EF) trend time. Uses pre-calculated data calls `calculate_ef`. Plots EF (output/HR based activity averages). upward trend   often indicates improved aerobic fitness. Points colored activity type.   `ef_df` provided, calls `calculate_ef` first.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_ef.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Efficiency Factor (EF) Trend ‚Äî plot_ef","text":"","code":"# Example using pre-calculated sample data data(\"athlytics_sample_ef\", package = \"Athlytics\") #> Warning: data set 'athlytics_sample_ef' not found p <- plot_ef(athlytics_sample_ef) #> Generating plot... print(p) #> `geom_smooth()` using formula = 'y ~ x'   if (FALSE) { # \\dontrun{ # Example using real data (requires authentication) # stoken <- rStrava::strava_oauth(\"YOUR_APP_NAME\", #                                \"YOUR_APP_CLIENT_ID\", #                                \"YOUR_APP_SECRET\", #                                cache = TRUE)  # Plot Pace/HR EF trend for Runs (last 6 months) # plot_ef(stoken = stoken, # Replace stoken with a valid token object #         activity_type = \"Run\", #         ef_metric = \"Pace_HR\", #         start_date = Sys.Date() - months(6))  # Plot Power/HR EF trend for Rides # plot_ef(stoken = stoken, # Replace stoken with a valid token object #         activity_type = \"Ride\", #         ef_metric = \"Power_HR\")  # Plot Pace/HR EF trend for multiple Run types (no trend line) # plot_ef(stoken = stoken, # Replace stoken with a valid token object #         activity_type = c(\"Run\", \"VirtualRun\"), #         ef_metric = \"Pace_HR\", #         add_trend_line = FALSE) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"Visualizes relationship Acute Chronic Training Load.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"","code":"plot_exposure(   stoken,   activity_type = c(\"Run\", \"Ride\", \"VirtualRide\", \"VirtualRun\"),   load_metric = \"duration_mins\",   acute_period = 7,   chronic_period = 42,   user_ftp = NULL,   user_max_hr = NULL,   user_resting_hr = NULL,   end_date = NULL,   risk_zones = TRUE,   exposure_df = NULL )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"stoken valid Strava token `rStrava::strava_oauth()`. Required unless `exposure_df` provided. activity_type Type(s) activities include (e.g., \"Run\", \"Ride\"). Default uses common types. load_metric Method calculating daily load (e.g., \"duration_mins\", \"tss\", \"hrss\"). Default \"duration_mins\". See `calculate_exposure` details approximate TSS/HRSS calculations. acute_period Days acute load window (e.g., 7). chronic_period Days chronic load window (e.g., 42). Must > `acute_period`. user_ftp Required `load_metric = \"tss\"`. FTP. user_max_hr Required `load_metric = \"hrss\"`. max HR. user_resting_hr Required `load_metric = \"hrss\"`. resting HR. end_date Optional. Analysis end date (YYYY-MM-DD string Date). Defaults today. risk_zones Add background shading typical ACWR risk zones? Default `TRUE`. exposure_df Optional. pre-calculated data frame `calculate_exposure`. provided, `stoken` calculation parameters ignored. Must contain `date`, `atl`, `ctl` (`acwr` `risk_zones = TRUE`).","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"ggplot object showing ATL vs CTL.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"Plots ATL vs CTL, optionally showing risk zones based ACWR. Uses pre-calculated data calls `calculate_exposure`. Visualizes training state plotting ATL vs CTL (related PMC charts).   Points colored date, latest point highlighted (red triangle).   Optional risk zones (based ACWR thresholds ~0.8, 1.3, 1.5) can shaded.   `exposure_df` provided, calls `calculate_exposure` first.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_exposure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Training Load Exposure (ATL vs CTL) ‚Äî plot_exposure","text":"","code":"# Example using pre-calculated sample data data(\"athlytics_sample_exposure\", package = \"Athlytics\") #> Warning: data set 'athlytics_sample_exposure' not found p <- plot_exposure(athlytics_sample_exposure) #> Generating plot... print(p)   if (FALSE) { # \\dontrun{ # Example using real data (requires authentication) # stoken <- rStrava::strava_oauth(\"YOUR_APP_NAME\", #                                \"YOUR_APP_CLIENT_ID\", #                                \"YOUR_APP_SECRET\", #                                cache = TRUE)  # Plot Exposure trend for Runs (last 6 months) # plot_exposure(stoken = stoken, # Replace stoken with a valid token object #               activity_type = \"Run\", #               end_date = Sys.Date(), # For internal calculate_exposure: fetches prior data. #               # Note: start_date applies to the internal calculate_exposure call. #               user_ftp = 280) # Example, if load_metric = \"tss\"  # Plot Exposure trend for Rides # plot_exposure(stoken = stoken, # Replace stoken with a valid token object #               activity_type = \"Ride\", #               user_ftp = 280) # Example, provide if load_metric = \"tss\"  # Plot Exposure trend for multiple Run types (risk_zones = FALSE for this example) # plot_exposure(stoken = stoken, # Replace stoken with a valid token object #               activity_type = c(\"Run\", \"VirtualRun\"), #               risk_zones = FALSE, #               user_ftp = 280) # Example, provide if load_metric = \"tss\" } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"Visualizes trend personal best times specific running distances.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"","code":"plot_pbs(   pbs_df,   activity_type = \"Run\",   distance_meters = NULL,   add_trend_line = TRUE )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"pbs_df data frame `calculate_pbs` containing PB data. Must contain columns: 'activity_date', 'time_seconds', 'distance_label', 'is_pb'. activity_type Type(s) activities display (e.g., \"Run\"). Default \"Run\". distance_meters Optional. Numeric vector distances (meters) filter. NULL, distances pbs_df plotted. add_trend_line Logical. Whether add trend line plot. Default TRUE.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"ggplot object showing PB trends, faceted distance multiple plotted.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"Plots trend best efforts specified distances, highlighting new PBs using pre-calculated data `calculate_pbs`. Visualizes data `calculate_pbs`. Points show best efforts;   solid points mark new PBs. Y-axis MM:SS.   Users must first call `calculate_pbs` generate required data.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_pbs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Personal Best (PB) Trends ‚Äî plot_pbs","text":"","code":"if (FALSE) { # \\dontrun{ # First calculate PBs using calculate_pbs function # pbs_data <- calculate_pbs( #   activities_data = your_activities, #   activity_type = \"Run\", #   distances_m = c(1000, 5000, 10000) # ) #  # Then plot the PBs # plot_pbs(pbs_data) #  # Plot only specific distances # plot_pbs(pbs_data, distance_meters = c(5000, 10000)) #  # Plot without trend line # plot_pbs(pbs_data, add_trend_line = FALSE) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/plot_with_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","title":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","text":"Creates complete plot showing individual's metric trend cohort reference percentile bands.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_with_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","text":"","code":"plot_with_reference(   individual,   reference,   metric = \"acwr_smooth\",   date_col = \"date\",   title = NULL,   bands = c(\"p25_p75\", \"p05_p95\", \"p50\") )"},{"path":"https://hezhiang.com/Athlytics/reference/plot_with_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","text":"individual data frame individual athlete data (calculate_acwr, etc.) reference data frame `cohort_reference()`. metric Name metric plot. Default \"acwr_smooth\". date_col Name date column. Default \"date\". title Plot title. Default NULL (auto-generated). bands reference bands show. Default c(\"p25_p75\", \"p05_p95\", \"p50\").","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_with_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","text":"ggplot object.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/plot_with_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Individual Metric with Cohort Reference ‚Äî plot_with_reference","text":"","code":"if (FALSE) { # \\dontrun{ plot_with_reference(   individual = athlete_acwr,   reference = cohort_ref,   metric = \"acwr_smooth\" ) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/quality_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Quality Summary Statistics ‚Äî quality_summary","title":"Get Quality Summary Statistics ‚Äî quality_summary","text":"Provides summary quality flags steady-state segments.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/quality_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Quality Summary Statistics ‚Äî quality_summary","text":"","code":"quality_summary(flagged_streams)"},{"path":"https://hezhiang.com/Athlytics/reference/quality_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Quality Summary Statistics ‚Äî quality_summary","text":"flagged_streams data frame returned `flag_quality()`.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/quality_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Quality Summary Statistics ‚Äî quality_summary","text":"list summary statistics: total_points Total number data points flagged_points Number flagged points flagged_pct Percentage flagged points steady_state_points Number steady-state points steady_state_pct Percentage steady-state quality_score Overall quality score (0-1) hr_spike_pct Percentage HR spikes pw_spike_pct Percentage power spikes gps_drift_pct Percentage GPS drift","code":""},{"path":"https://hezhiang.com/Athlytics/reference/quality_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Quality Summary Statistics ‚Äî quality_summary","text":"","code":"if (FALSE) { # \\dontrun{ flagged_data <- flag_quality(stream_data) quality_summary(flagged_data) } # }"},{"path":"https://hezhiang.com/Athlytics/reference/scale_athlytics.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Color Palette to ggplot ‚Äî scale_athlytics","title":"Apply Color Palette to ggplot ‚Äî scale_athlytics","text":"Helper function apply Athlytics color palettes existing plots.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/scale_athlytics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Color Palette to ggplot ‚Äî scale_athlytics","text":"","code":"scale_athlytics(palette_name = \"nature\", type = \"color\")"},{"path":"https://hezhiang.com/Athlytics/reference/scale_athlytics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Color Palette to ggplot ‚Äî scale_athlytics","text":"palette_name Name palette: \"nature\", \"academic\", \"vibrant\", \"science\", \"cell\" type Either \"color\" \"fill\"","code":""},{"path":"https://hezhiang.com/Athlytics/reference/theme_athlytics.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Athlytics Theme ‚Äî theme_athlytics","title":"Get Athlytics Theme ‚Äî theme_athlytics","text":"Publication-ready ggplot2 theme sensible defaults scientific figures.","code":""},{"path":"https://hezhiang.com/Athlytics/reference/theme_athlytics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Athlytics Theme ‚Äî theme_athlytics","text":"","code":"theme_athlytics(base_size = 12, base_family = \"\")"},{"path":"https://hezhiang.com/Athlytics/reference/theme_athlytics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Athlytics Theme ‚Äî theme_athlytics","text":"base_size Base font size (default: 12) base_family Font family (default: \"\")","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"athlytics-100","dir":"Changelog","previous_headings":"","what":"Athlytics 1.0.0","title":"Athlytics 1.0.0","text":"major release transitions Strava API local data export processing, prioritizing user privacy data ownership eliminating API rate limits authentication requirements.","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"breaking-changes--new-features-1-0-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes & New Features","title":"Athlytics 1.0.0","text":"New load_local_activities() function supports direct ZIP file loading (manual extraction needed) Removed API dependencies authentication requirements data processing happens locally - cloud services involved Added detailed parameter explanations recommended values Included interpretation guidelines typical value ranges Added algorithm descriptions best practices Expanded academic references cross-function links Enhanced calculate_acwr(), calculate_ef(), calculate_decoupling() documentation Better documentation cohort_reference() multi-athlete workflows Examples updated show intervention/control group comparisons Proper use group_by() () batch processing Updated code examples reflect local data processing workflow Corrected function parameter names throughout (e.g., activities_df ‚Üí activities_data) Added installation guidance emphasizing GitHub v1.0.0 latest version Removed outdated API-related content","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"academic-paper-1-0-0","dir":"Changelog","previous_headings":"","what":"Academic Paper","title":"Athlytics 1.0.0","text":"Detailed comparison related R packages (rStrava, trackeR, activatr, FITfileR, ACWR, injurytools) Updated methodology reflect local data processing approach Enhanced reproducible examples using local exports","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"technical-improvements-1-0-0","dir":"Changelog","previous_headings":"","what":"Technical Improvements","title":"Athlytics 1.0.0","text":"Fixed encoding issues BibTeX references Updated .gitignore track README.md paper/ directory Synchronized documentation actual function implementations Improved pkgdown website generation","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"migration-guide-1-0-0","dir":"Changelog","previous_headings":"","what":"Migration Guide","title":"Athlytics 1.0.0","text":"users upgrading 0.1.x: Download Strava bulk data export (Settings > Account > Download Request) Replace fetch_strava_activities() calls load_local_activities(\"export.zip\") Update function calls: activities_df ‚Üí activities_data, plot_*() now accepts data directly Remove Strava API authentication code","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"athlytics-012","dir":"Changelog","previous_headings":"","what":"Athlytics 0.1.2","title":"Athlytics 0.1.2","text":"CRAN release: 2025-05-16 CRAN Resubmission: Carefully addressed feedback CRAN making detailed updates modifications package resubmission. primarily involved refining examples (e.g., consistently using \\dontrun{} advised) ensuring metadata files meet CRAN standards. Testing: Focused increasing test coverage towards goal 85% across package. Integrated Codecov ongoing coverage monitoring. Bug Fixes","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"core-improvement-enhanced-reliability--testing-with-simulated-data-0-1-1","dir":"Changelog","previous_headings":"","what":"Core Improvement: Enhanced Reliability & Testing with Simulated Data","title":"Athlytics 0.1.1","text":"significant update enhances package reliability ease use integrating athlytics_sample_data. enables examples run offline ensures core functionalities undergone rigorous, reproducible testing.","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"key-changes-0-1-1","dir":"Changelog","previous_headings":"","what":"Key Changes","title":"Athlytics 0.1.1","text":"Examples & Vignettes: Roxygen examples key vignette examples now primarily use athlytics_sample_data offline execution clarity. Network-dependent examples clearly separated \\donttest{} blocks. Test Suite: Fundamentally refactored test suite extensively use athlytics_sample_data mockery, improving test robustness parameter coverage. Strengthened Package Quality & Compliance: Undertook thorough package validation, leading key enhancements overall robustness adherence R packaging standards. involved: ensuring function examples correct reliably executable (notably addressing strava_oauth(...) scenarios offline/testing contexts); providing accurate refined documentation data objects R/data.R; fixing Roxygen import directives precise namespace definition; improving help file readability Rd line width adjustments; optimizing package data loading adding LazyData: true DESCRIPTION. Documentation: Minor improvements documentation clarity consistency (e.g., date formatting plots, explicit naming data frame arguments examples).","code":""},{"path":[]},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"major-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Major Changes","title":"Athlytics 0.1.0","text":"Decoupling Calculation: Switched rStrava::get_activity_streams direct Strava API calls using httr jsonlite fetching activity streams calculate_decoupling. aims resolve previous errors might impact performance rate limiting.","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"bug-fixes--improvements-0-1-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes & Improvements","title":"Athlytics 0.1.0","text":"Fixed calculate_acwr error (condition length > 1) forcing evaluation dplyr pipe. Corrected plot_pbs usage examples test scripts include required distance_meters argument. Added missing dependencies (httr, jsonlite) DESCRIPTION file. Improved error handling messages several functions. Simplified Roxygen documentation core functions. Updated README examples descriptions clarity consistency code.","code":""},{"path":"https://hezhiang.com/Athlytics/news/index.html","id":"initial-release-0-1-0","dir":"Changelog","previous_headings":"","what":"Initial Release","title":"Athlytics 0.1.0","text":"Initial release. Load Exposure (Acute vs.¬†Chronic Load) ACWR Trend Efficiency Factor Trend Personal Bests (PBs) Decoupling Trend Added Strava authentication helper based rStrava.","code":""}]
