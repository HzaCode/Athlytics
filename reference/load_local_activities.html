<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load Activities from Local Strava Export — load_local_activities • Athlytics</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load Activities from Local Strava Export — load_local_activities"><meta name="description" content="Reads and processes activity data from a local Strava export, supporting both
direct CSV files and compressed ZIP archives. This function converts Strava export
data to a format compatible with all Athlytics analysis functions.
Designed to work with Strava's official bulk data export
(Settings &amp;gt; My Account &amp;gt; Download or Delete Your Account &amp;gt; Get Started)."><meta property="og:description" content="Reads and processes activity data from a local Strava export, supporting both
direct CSV files and compressed ZIP archives. This function converts Strava export
data to a format compatible with all Athlytics analysis functions.
Designed to work with Strava's official bulk data export
(Settings &amp;gt; My Account &amp;gt; Download or Delete Your Account &amp;gt; Get Started)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Athlytics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/athlytics_introduction.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/advanced_features.html">Advanced Features</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/HzaCode/Athlytics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load Activities from Local Strava Export</h1>
      <small class="dont-index">Source: <a href="https://github.com/HzaCode/Athlytics/blob/v1.0.4/R/load_local_activities.R" class="external-link"><code>R/load_local_activities.R</code></a></small>
      <div class="d-none name"><code>load_local_activities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads and processes activity data from a local Strava export, supporting both
direct CSV files and compressed ZIP archives. This function converts Strava export
data to a format compatible with all Athlytics analysis functions.
Designed to work with Strava's official bulk data export
(Settings &gt; My Account &gt; Download or Delete Your Account &gt; Get Started).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">load_local_activities</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"strava_export_data/activities.csv"</span>,</span>
<span>  start_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  activity_types <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Path to activities.csv file OR a .zip archive from Strava export.
Supports both CSV and ZIP formats. If a .zip file is provided, the function
will automatically extract and read the activities.csv file from within the archive.
Default is "strava_export_data/activities.csv".</p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>Optional. Start date (YYYY-MM-DD or Date/POSIXct) for filtering activities.
Defaults to NULL (no filtering).</p></dd>


<dt id="arg-end-date">end_date<a class="anchor" aria-label="anchor" href="#arg-end-date"></a></dt>
<dd><p>Optional. End date (YYYY-MM-DD or Date/POSIXct) for filtering activities.
Defaults to NULL (no filtering).</p></dd>


<dt id="arg-activity-types">activity_types<a class="anchor" aria-label="anchor" href="#arg-activity-types"></a></dt>
<dd><p>Optional. Character vector of activity types to include
(e.g., c("Run", "Ride")). Defaults to NULL (include all types).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble of activity data with standardized column names compatible
with Athlytics functions. Key columns include:</p><ul><li><p><code>id</code>: Activity ID (numeric)</p></li>
<li><p><code>name</code>: Activity name</p></li>
<li><p><code>type</code>: Activity type (Run, Ride, etc.)</p></li>
<li><p><code>start_date_local</code>: Activity start datetime (POSIXct)</p></li>
<li><p><code>date</code>: Activity date (Date)</p></li>
<li><p><code>distance</code>: Distance in meters (numeric)</p></li>
<li><p><code>moving_time</code>: Moving time in seconds (integer)</p></li>
<li><p><code>elapsed_time</code>: Elapsed time in seconds (integer)</p></li>
<li><p><code>average_heartrate</code>: Average heart rate (numeric)</p></li>
<li><p><code>average_watts</code>: Average power in watts (numeric)</p></li>
<li><p><code>elevation_gain</code>: Elevation gain in meters (numeric)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function reads the activities.csv file from a Strava data export
and transforms the data to match the structure expected by Athlytics
analysis functions. The transformation includes:</p><ul><li><p>Standardizing column names for analysis functions</p></li>
<li><p>Parsing dates into POSIXct format</p></li>
<li><p>Converting distances to meters</p></li>
<li><p>Converting times to seconds</p></li>
<li><p>Filtering by date range and activity type if specified</p></li>
</ul><p><strong>Language Note</strong>: Strava export language must be set to <strong>English</strong> for proper
CSV parsing. Change this in Strava Settings &gt; Display Preferences &gt; Language
before requesting your data export.</p>
<p><strong>Privacy Note</strong>: This function processes local export data only and does not
connect to the internet. Ensure you have permission to analyze the data and
follow applicable privacy regulations when using this data for research purposes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example using built-in sample CSV</span></span></span>
<span class="r-in"><span><span class="va">csv_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"activities.csv"</span>, package <span class="op">=</span> <span class="st">"Athlytics"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nzchar</a></span><span class="op">(</span><span class="va">csv_path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">activities</span> <span class="op">&lt;-</span> <span class="fu">load_local_activities</span><span class="op">(</span><span class="va">csv_path</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">activities</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id name           type  sport_type start_date_local    date       distance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     4 Afternoon Ride Ride  Ride       2024-10-01 <span style="color: #949494;">11:35:00</span> 2024-10-01    <span style="text-decoration: underline;">33</span>892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     5 Tempo Run      Run   Run        2024-10-02 <span style="color: #949494;">08:35:00</span> 2024-10-02     <span style="text-decoration: underline;">7</span>925</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     6 Morning Run    Run   Run        2024-10-04 <span style="color: #949494;">06:41:00</span> 2024-10-04     <span style="text-decoration: underline;">6</span>976</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     7 Long Run       Run   Run        2024-10-05 <span style="color: #949494;">07:44:00</span> 2024-10-05    <span style="text-decoration: underline;">18</span>440</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     8 Morning Run    Run   Run        2024-10-07 <span style="color: #949494;">06:25:00</span> 2024-10-07     <span style="text-decoration: underline;">6</span>834</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     9 Afternoon Ride Ride  Ride       2024-10-08 <span style="color: #949494;">10:39:00</span> 2024-10-08    <span style="text-decoration: underline;">31</span>874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 15 more variables: moving_time &lt;int&gt;, elapsed_time &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   average_heartrate &lt;dbl&gt;, max_heartrate &lt;dbl&gt;, average_watts &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   max_watts &lt;dbl&gt;, weighted_average_watts &lt;dbl&gt;, elevation_gain &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   elevation_loss &lt;dbl&gt;, average_speed &lt;dbl&gt;, max_speed &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   average_gap &lt;dbl&gt;, calories &lt;dbl&gt;, relative_effort &lt;dbl&gt;, filename &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Load from a local Strava export ZIP archive</span></span></span>
<span class="r-in"><span><span class="va">activities</span> <span class="op">&lt;-</span> <span class="fu">load_local_activities</span><span class="op">(</span><span class="st">"export_12345678.zip"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter by date and activity type</span></span></span>
<span class="r-in"><span><span class="va">activities</span> <span class="op">&lt;-</span> <span class="fu">load_local_activities</span><span class="op">(</span></span></span>
<span class="r-in"><span>  path <span class="op">=</span> <span class="st">"export_12345678.zip"</span>,</span></span>
<span class="r-in"><span>  start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span></span>
<span class="r-in"><span>  end_date <span class="op">=</span> <span class="st">"2023-12-31"</span>,</span></span>
<span class="r-in"><span>  activity_types <span class="op">=</span> <span class="st">"Run"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhiang He.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

