% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_exposure.R
\name{plot_exposure}
\alias{plot_exposure}
\title{Plot Training Load Exposure (ATL vs CTL)}
\usage{
plot_exposure(
  stoken,
  activity_type = c("Run", "Ride", "VirtualRide", "VirtualRun"),
  load_metric = "duration_mins",
  acute_period = 7,
  chronic_period = 42,
  user_ftp = NULL,
  user_max_hr = NULL,
  user_resting_hr = NULL,
  end_date = NULL,
  risk_zones = TRUE,
  exposure_df = NULL
)
}
\arguments{
\item{stoken}{A valid Strava token from `rStrava::strava_oauth()`. Required unless `exposure_df` is provided.}

\item{activity_type}{Type(s) of activities to include (e.g., "Run", "Ride"). Default uses common types.}

\item{load_metric}{Method for calculating daily load (e.g., "duration_mins", "tss", "hrss"). Default "duration_mins".
See `calculate_exposure` for details on approximate TSS/HRSS calculations.}

\item{acute_period}{Days for acute load window (e.g., 7).}

\item{chronic_period}{Days for chronic load window (e.g., 42). Must be > `acute_period`.}

\item{user_ftp}{Required if `load_metric = "tss"`. Your FTP.}

\item{user_max_hr}{Required if `load_metric = "hrss"`. Your max HR.}

\item{user_resting_hr}{Required if `load_metric = "hrss"`. Your resting HR.}

\item{end_date}{Optional. Analysis end date (YYYY-MM-DD string or Date). Defaults to today.}

\item{risk_zones}{Add background shading for typical ACWR risk zones? Default `TRUE`.}

\item{exposure_df}{Optional. A pre-calculated data frame from `calculate_exposure`.
If provided, `stoken` and other calculation parameters are ignored. Must contain
`date`, `atl`, `ctl` (and `acwr` if `risk_zones = TRUE`).}
}
\value{
A ggplot object showing ATL vs CTL.
}
\description{
Visualizes the relationship between Acute and Chronic Training Load.
}
\details{
Plots ATL vs CTL, optionally showing risk zones based on ACWR. Uses
pre-calculated data or calls `calculate_exposure`.

Visualizes training state by plotting ATL vs CTL (related to PMC charts).
  Points are colored by date, latest point is highlighted (red triangle).
  Optional risk zones (based on ACWR thresholds ~0.8, 1.3, 1.5) can be shaded.
  If `exposure_df` is not provided, it calls `calculate_exposure` first.
}
\examples{
\dontrun{
# Requires authentication first:
# stoken <- rStrava::strava_oauth(..., cache = TRUE)

# Plot exposure using duration for default activities
plot_exposure(stoken = stoken)

# Plot exposure using TSS for Rides (7/28 day periods)
plot_exposure(stoken = stoken, activity_type = "Ride", load_metric = "tss",
              user_ftp = 280, acute_period = 7, chronic_period = 28)

# Plot exposure using HRSS for Runs
plot_exposure(stoken = stoken, activity_type = "Run", load_metric = "hrss",
              user_max_hr = 190, user_resting_hr = 50)

# Plot pre-calculated exposure data
# exposure_results <- calculate_exposure(...)
# plot_exposure(exposure_df = exposure_results)
}
}
