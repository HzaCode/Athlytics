% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/load_local_activities.R
\name{load_local_activities}
\alias{load_local_activities}
\title{Load Activities from Local Strava Export}
\usage{
load_local_activities(
  path = "strava_export_data/activities.csv",
  start_date = NULL,
  end_date = NULL,
  activity_types = NULL
)
}
\arguments{
\item{path}{Path to activities.csv file OR a .zip archive from Strava export.
Supports both CSV and ZIP formats. If a .zip file is provided, the function
will automatically extract and read the activities.csv file from within the archive.
Default is "strava_export_data/activities.csv".}

\item{start_date}{Optional. Start date (YYYY-MM-DD or Date/POSIXct) for filtering activities.
Defaults to NULL (no filtering).}

\item{end_date}{Optional. End date (YYYY-MM-DD or Date/POSIXct) for filtering activities.
Defaults to NULL (no filtering).}

\item{activity_types}{Optional. Character vector of activity types to include
(e.g., c("Run", "Ride")). Defaults to NULL (include all types).}
}
\value{
A tibble of activity data with standardized column names compatible
with Athlytics functions. Key columns include:
\itemize{
\item \code{id}: Activity ID (numeric)
\item \code{name}: Activity name
\item \code{type}: Activity type (Run, Ride, etc.)
\item \code{start_date_local}: Activity start datetime (POSIXct)
\item \code{date}: Activity date (Date)
\item \code{distance}: Distance in meters (numeric)
\item \code{moving_time}: Moving time in seconds (integer)
\item \code{elapsed_time}: Elapsed time in seconds (integer)
\item \code{average_heartrate}: Average heart rate (numeric)
\item \code{average_watts}: Average power in watts (numeric)
\item \code{elevation_gain}: Elevation gain in meters (numeric)
}
}
\description{
Reads and processes activity data from a local Strava export, supporting both
direct CSV files and compressed ZIP archives. This function converts Strava export
data to a format compatible with all Athlytics analysis functions.
Designed to work with Strava's official bulk data export
(Settings > My Account > Download or Delete Your Account > Get Started).
}
\details{
This function reads the activities.csv file from a Strava data export
and transforms the data to match the structure expected by Athlytics
analysis functions. The transformation includes:
\itemize{
\item Standardizing column names for analysis functions
\item Parsing dates into POSIXct format
\item Converting distances to meters
\item Converting times to seconds
\item Filtering by date range and activity type if specified
}

\strong{Language Note}: Strava export language must be set to \strong{English} for proper
CSV parsing. Change this in Strava Settings > Display Preferences > Language
before requesting your data export.

\strong{Privacy Note}: This function processes local export data only and does not
connect to the internet. Ensure you have permission to analyze the data and
follow applicable privacy regulations when using this data for research purposes.
}
\examples{
# Example using built-in sample CSV
csv_path <- system.file("extdata", "activities.csv", package = "Athlytics")
if (nzchar(csv_path)) {
  activities <- load_local_activities(csv_path)
  head(activities)
}

\dontrun{
# Load from a local Strava export ZIP archive
activities <- load_local_activities("export_12345678.zip")

# Filter by date and activity type
activities <- load_local_activities(
  path = "export_12345678.zip",
  start_date = "2023-01-01",
  end_date = "2023-12-31",
  activity_types = "Run"
)
}

}
