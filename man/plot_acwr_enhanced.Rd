% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_acwr_enhanced.R
\name{plot_acwr_enhanced}
\alias{plot_acwr_enhanced}
\title{Enhanced ACWR Plot with Confidence Bands and Reference}
\usage{
plot_acwr_enhanced(
  acwr_data,
  reference_data = NULL,
  show_ci = TRUE,
  show_reference = TRUE,
  reference_bands = c("p25_p75", "p05_p95", "p50"),
  highlight_zones = TRUE,
  title = NULL,
  subtitle = NULL,
  method_label = NULL
)
}
\arguments{
\item{acwr_data}{A data frame from `calculate_acwr_ewma()` containing ACWR values.}

\item{reference_data}{Optional. A data frame from `cohort_reference()` for
adding cohort reference bands.}

\item{show_ci}{Logical. Whether to show confidence bands (if available in data).
Default TRUE.}

\item{show_reference}{Logical. Whether to show cohort reference bands (if provided).
Default TRUE.}

\item{reference_bands}{Which reference bands to show. Default c("p25_p75", "p05_p95", "p50").}

\item{highlight_zones}{Logical. Whether to highlight ACWR risk zones. Default TRUE.}

\item{title}{Plot title. Default NULL (auto-generated).}

\item{subtitle}{Plot subtitle. Default NULL (auto-generated).}

\item{method_label}{Optional label for the method used (e.g., "RA", "EWMA"). Default NULL.}
}
\value{
A ggplot object.
}
\description{
Creates a comprehensive ACWR visualization with optional confidence bands
and cohort reference percentiles.
}
\details{
This enhanced plot function combines multiple visualization layers:
\itemize{
  \item Risk zone shading (sweet spot: 0.8-1.3, caution: 1.3-1.5, high risk: >1.5)
  \item Cohort reference percentile bands (if provided)
  \item Bootstrap confidence bands (if available in data)
  \item Individual ACWR trend line
}

The layering order (bottom to top):
1. Risk zones (background)
2. Cohort reference bands (P5-P95, then P25-P75)
3. Confidence intervals (individual uncertainty)
4. ACWR line (individual trend)
}
\examples{
\dontrun{
# Load activities
activities <- load_local_activities("export.zip")

# Calculate ACWR with EWMA and confidence bands
acwr <- calculate_acwr_ewma(
  activities,
  method = "ewma",
  ci = TRUE,
  B = 200
)

# Basic enhanced plot
plot_acwr_enhanced(acwr)

# With cohort reference
reference <- cohort_reference(cohort_data, metric = "acwr_smooth")
plot_acwr_enhanced(acwr, reference_data = reference)
}
}
