% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_pbs.R
\name{plot_pbs}
\alias{plot_pbs}
\title{Plot Personal Best (PB) Trends}
\usage{
plot_pbs(
  stoken,
  activity_type = "Run",
  distance_meters,
  max_activities = 500,
  date_range = NULL,
  pbs_df = NULL
)
}
\arguments{
\item{stoken}{A valid Strava token from `rStrava::strava_oauth()`. Required unless `pbs_df` is provided.}

\item{activity_type}{Type(s) of activities to search (e.g., "Run"). Default "Run".}

\item{distance_meters}{Numeric vector of distances (meters) to plot PBs for (e.g., `c(1000, 5000)`).
Relies on Strava's `best_efforts` data.}

\item{max_activities}{Max number of recent activities to check. Default 500. Reduce for speed.}

\item{date_range}{Optional. Filter activities by date `c("YYYY-MM-DD", "YYYY-MM-DD")`.}

\item{pbs_df}{Optional. A pre-calculated data frame from `calculate_pbs`.
If provided, `stoken` and other calculation parameters are ignored.}
}
\value{
A ggplot object showing PB trends, faceted by distance if multiple are plotted.
}
\description{
Visualizes the trend of personal best times for specific running distances.
}
\details{
Plots the trend of best efforts for specified distances, highlighting new PBs.
Uses pre-calculated data or calls `calculate_pbs`.

Visualizes data from `calculate_pbs`. Points show best efforts;
  solid points mark new PBs. Y-axis is MM:SS.
  If `pbs_df` is not provided, calls `calculate_pbs` first (can be slow).
}
\examples{
\dontrun{
# Requires authentication first:
# stoken <- rStrava::strava_oauth(..., cache = TRUE)

# Plot PBs for 1k, 5k, 10k
plot_pbs(stoken = stoken, distance_meters = c(1000, 5000, 10000))

# Plot PBs for Mile and Half Marathon for 2023
plot_pbs(stoken = stoken,
         distance_meters = c(1609, 21097),
         date_range = c("2023-01-01", "2023-12-31"))

# Plot pre-calculated PB data
# pb_results <- calculate_pbs(...)
# plot_pbs(pbs_df = pb_results)
}
}
